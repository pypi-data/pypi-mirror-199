import{d as C,B as M,M as N,c as n,l as A,Y as p,H as B,h as t,a as k,w as a,n as _,b as l,e as F,o as d,g as u,Z as V,a0 as f,v as O,y as R,a1 as Y,a2 as j,a3 as z,a4 as H,U as J,z as L}from"./index-8c2645e8.js";import{u as P}from"./usePageTitle-c65d4e12.js";const q=C({__name:"TaskRun",setup(U){const g=F(),r=M("taskRunId"),c=N(),v=n(()=>{const e=["Logs","Task Inputs"];return A.xl||e.push("Details"),e}),m=n(()=>r.value?[r.value]:null),y=p(c.taskRuns.getTaskRun,m,{interval:3e4}),s=n(()=>y.response),o=n(()=>{var e;return(e=s.value)==null?void 0:e.flowRunId}),h=n(()=>o.value?[o.value]:null),w=p(c.flowRuns.getFlowRun,h),i=n(()=>{var e;return(e=s.value)!=null&&e.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function I(){w.refresh(),g.push(L.flowRun(o.value))}const T=n(()=>{var e;return(e=s.value)==null?void 0:e.stateType});B(T);const x=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return P(x),(e,W)=>{const b=l("p-code-highlight"),D=l("p-tabs"),S=l("p-layout-well");return t(s)?(d(),k(S,{key:0,class:"task-run"},{header:a(()=>[u(t(V),{"task-run-id":t(s).id,onDelete:I},null,8,["task-run-id"])]),well:a(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:a(()=>[u(D,{tabs:t(v)},O({details:a(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:a(()=>[u(t(H),{"task-run":t(s)},null,8,["task-run"])]),"task-inputs":a(()=>[t(s)?(d(),k(t(J),{key:0,"text-to-copy":t(i)},{default:a(()=>[u(b,{lang:"json",text:t(i),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:a(()=>[R(" Task inputs "),u(t(Y),{title:"Task Inputs"},{default:a(()=>[R(j(t(z).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):_("",!0)}}});export{q as default};
