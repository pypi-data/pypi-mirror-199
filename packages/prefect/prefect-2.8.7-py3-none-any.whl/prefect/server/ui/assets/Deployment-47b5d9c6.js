import{d as I,B as M,c as r,M as T,$ as N,l as j,ag as F,a8 as R,C as S,a as s,w as n,b as u,e as $,o as a,h as e,ah as P,n as i,ai as y,g as p,aj as Q,ak as V,al as Z,am as q,U as z,ad as J,z as W,a3 as Y}from"./index-8c2645e8.js";import{u as A}from"./useToast-7d6eb548.js";import{u as E}from"./usePageTitle-c65d4e12.js";const X=I({__name:"Deployment",setup(G){const c=M("deploymentId"),_=r(()=>[c.value]),f=$(),v=T(),h=A(),b={interval:3e5},d=N(v.deployments.getDeployment,[c.value],b),t=r(()=>d.response),g=r(()=>{var o,l;return[{label:"Details",hidden:j.xl},{label:"Runs"},{label:"Parameters",hidden:(o=t.value)==null?void 0:o.deprecated},{label:"Infra Overrides",hidden:(l=t.value)==null?void 0:l.deprecated},{label:"Description"}]}),{tabs:k}=F(g);function w(){f.push(W.deployments())}const m=r(()=>{var o;return(o=t.value)!=null&&o.infrastructureOverrides?JSON.stringify(t.value.infrastructureOverrides,void 0,2):"{}"}),{filter:x}=R({deployments:{id:_}}),D=r(()=>t.value?`Deployment: ${t.value.name}`:"Deployment");return E(D),S(t,()=>{var o,l;!((o=t.value)!=null&&o.workQueueName)&&!((l=t.value)!=null&&l.deprecated)&&h(Y.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(o,l)=>{const O=u("p-content"),U=u("p-code-highlight"),B=u("p-tabs"),C=u("p-layout-well");return a(),s(C,{class:"deployment"},{header:n(()=>[e(t)?(a(),s(e(P),{key:0,deployment:e(t),onUpdate:e(d).refresh,onDelete:w},null,8,["deployment","onUpdate"])):i("",!0)]),well:n(()=>[e(t)?(a(),s(e(y),{key:0,deployment:e(t),alternate:"",onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])):i("",!0)]),default:n(()=>[e(t)?(a(),s(B,{key:0,tabs:e(k)},{description:n(()=>[p(O,{secondary:""},{default:n(()=>[e(t).deprecated?(a(),s(e(Q),{key:0})):e(t).description?(a(),s(e(V),{key:1,description:e(t).description},null,8,["description"])):(a(),s(e(Z),{key:2,deployment:e(t)},null,8,["deployment"]))]),_:1})]),parameters:n(()=>[p(e(q),{deployment:e(t)},null,8,["deployment"])]),"infra-overrides":n(()=>[e(t)?(a(),s(e(z),{key:0,"text-to-copy":e(m)},{default:n(()=>[p(U,{lang:"json",text:e(m),class:"deployment__infra-overrides"},null,8,["text"])]),_:1},8,["text-to-copy"])):i("",!0)]),details:n(()=>[p(e(y),{deployment:e(t),onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])]),runs:n(()=>[p(e(J),{"flow-run-filter":e(x)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):i("",!0)]),_:1})}}});export{X as default};
