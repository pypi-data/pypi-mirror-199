import{d as A,r as B,B as L,c as a,l as M,M as N,$ as D,K as P,C as $,G as z,H as K,a as l,w as o,b as p,e as O,o as n,h as e,I as U,n as u,N as i,J as V,g as _,L as j,Q as G,R as H,T as J,U as Q,z as q}from"./index-8c2645e8.js";import{u as E}from"./usePageTitle-c65d4e12.js";const Z=A({__name:"FlowRun",setup(W){const m=O(),c=B("Logs"),f=L("flowRunId"),y=a(()=>{const s=["Logs","Task Runs","Results","Subflow Runs","Parameters"];return M.xl||s.push("Details"),s}),v=N(),R=D(v.flowRuns.getFlowRun,[f],{interval:5e3}),t=a(()=>R.response),g=a(()=>{var s;return(s=t.value)==null?void 0:s.deploymentId}),w=P(g);$(f,(s,r)=>{s!==r&&(c.value="Logs")});const h=a(()=>{var s;return((s=t.value)==null?void 0:s.parameters)??{}}),k=a(()=>{var s;return((s=w.value)==null?void 0:s.parameterOpenApiSchema)??{}}),d=a(()=>z(h.value,k.value));function b(){m.push(q.flowRuns())}const x=a(()=>{var s;return(s=t.value)==null?void 0:s.stateType});K(x);const F=a(()=>t.value?`Flow Run: ${t.value.name}`:"Flow Run");return E(F),(s,r)=>{const T=p("p-code-highlight"),I=p("p-tabs"),S=p("p-layout-well");return n(),l(S,{class:"flow-run"},{header:o(()=>[e(t)?(n(),l(e(U),{key:0,"flow-run-id":e(t).id,onDelete:b},null,8,["flow-run-id"])):u("",!0)]),well:o(()=>[e(t)?(n(),l(e(i),{key:0,"flow-run":e(t),alternate:""},null,8,["flow-run"])):u("",!0)]),default:o(()=>[e(t)?(n(),l(e(V),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0),_(I,{selected:c.value,"onUpdate:selected":r[0]||(r[0]=C=>c.value=C),tabs:e(y)},{details:o(()=>[e(t)?(n(),l(e(i),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),logs:o(()=>[e(t)?(n(),l(e(j),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),results:o(()=>[e(t)?(n(),l(e(G),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),"task-runs":o(()=>[e(t)?(n(),l(e(H),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":o(()=>[e(t)?(n(),l(e(J),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),parameters:o(()=>[e(w)?(n(),l(e(Q),{key:0,"text-to-copy":e(d)},{default:o(()=>[_(T,{lang:"json",text:e(d),class:"flow-run__parameters"},null,8,["text"])]),_:1},8,["text-to-copy"])):u("",!0)]),_:1},8,["selected","tabs"])]),_:1})}}});export{Z as default};
