
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Visualization &#8212; ANTsPy master documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Utilities" href="utils.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-ants">
<span id="visualization"></span><h1>Visualization<a class="headerlink" href="#module-ants" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="ants.plot">
<span class="sig-prename descclassname"><span class="pre">ants.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Greys_r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'turbo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vminol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmaxol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_vertical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nslices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">black_bg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg_thresh_quant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg_val_quant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.99</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain_image_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reorient</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ants/viz/plot.html#plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ants.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot an ANTsImage.</p>
<p>Use mask_image and/or threshold_image to preprocess images to be be
overlaid and display the overlays in a given range. See the wiki examples.</p>
<p>By default, images will be reoriented to ‘LAI’ orientation before plotting.
So, if axis == 0, the images will be ordered from the
left side of the brain to the right side of the brain. If axis == 1,
the images will be ordered from the anterior (front) of the brain to
the posterior (back) of the brain. And if axis == 2, the images will
be ordered from the inferior (bottom) of the brain to the superior (top)
of the brain.</p>
<p>ANTsR function: <cite>plot.antsImage</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – image to plot</p></li>
<li><p><strong>overlay</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – image to overlay on base image</p></li>
<li><p><strong>cmap</strong> (<em>string</em>) – colormap to use for base image. See matplotlib.</p></li>
<li><p><strong>overlay_cmap</strong> (<em>string</em>) – colormap to use for overlay images, if applicable. See matplotlib.</p></li>
<li><p><strong>overlay_alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – level of transparency for any overlays. Smaller value means
the overlay is more transparent. See matplotlib.</p></li>
<li><p><strong>axis</strong> (<em>python:integer</em>) – which axis to plot along if image is 3D</p></li>
<li><p><strong>nslices</strong> (<em>python:integer</em>) – number of slices to plot if image is 3D</p></li>
<li><p><strong>slices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em> of </em><em>python:integers</em>) – specific slice indices to plot if image is 3D.
If given, this will override <cite>nslices</cite>.
This can be absolute array indices (e.g. (80,100,120)), or
this can be relative array indices (e.g. (0.4,0.5,0.6))</p></li>
<li><p><strong>ncol</strong> (<em>python:integer</em>) – Number of columns to have on the plot if image is 3D.</p></li>
<li><p><strong>slice_buffer</strong> (<em>python:integer</em>) – how many slices to buffer when finding the non-zero slices of
a 3D images. So, if slice_buffer = 10, then the first slice
in a 3D image will be the first non-zero slice index plus 10 more
slices.</p></li>
<li><p><strong>black_bg</strong> (<em>boolean</em>) – <p>if True, the background of the image(s) will be black.
if False, the background of the image(s) will be determined by the</p>
<blockquote>
<div><p>values <cite>bg_thresh_quant</cite> and <cite>bg_val_quant</cite>.</p>
</div></blockquote>
</p></li>
<li><p><strong>bg_thresh_quant</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – <p>if white_bg=True, the background will be determined by thresholding
the image at the <cite>bg_thresh</cite> quantile value and setting the background
intensity to the <cite>bg_val</cite> quantile value.
This value should be in [0, 1] - somewhere around 0.01 is recommended.</p>
<blockquote>
<div><ul>
<li><p>equal to 1 will threshold the entire image</p></li>
<li><p>equal to 0 will threshold none of the image</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>bg_val_quant</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – <p>if white_bg=True, the background will be determined by thresholding
the image at the <cite>bg_thresh</cite> quantile value and setting the background
intensity to the <cite>bg_val</cite> quantile value.
This value should be in [0, 1]</p>
<blockquote>
<div><ul>
<li><p>equal to 1 is pure white</p></li>
<li><p>equal to 0 is pure black</p></li>
<li><p>somewhere in between is gray</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>domain_image_map</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – this input ANTsImage or list of ANTsImage types contains a reference image
<cite>domain_image</cite> and optional reference mapping named <cite>domainMap</cite>.
If supplied, the image(s) to be plotted will be mapped to the domain
image space before plotting - useful for non-standard image orientations.</p></li>
<li><p><strong>crop</strong> (<em>boolean</em>) – if true, the image(s) will be cropped to their bounding boxes, resulting
in a potentially smaller image size.
if false, the image(s) will not be cropped</p></li>
<li><p><strong>scale</strong> (<em>boolean</em><em> or </em><em>2-tuple</em>) – if true, nothing will happen to intensities of image(s) and overlay(s)
if false, dynamic range will be maximized when visualizing overlays
if 2-tuple, the image will be dynamically scaled between these quantiles</p></li>
<li><p><strong>reverse</strong> (<em>boolean</em>) – if true, the order in which the slices are plotted will be reversed.
This is useful if you want to plot from the front of the brain first
to the back of the brain, or vice-versa</p></li>
<li><p><strong>title</strong> (<em>string</em>) – add a title to the plot</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – if given, the resulting image will be saved to this file</p></li>
<li><p><strong>dpi</strong> (<em>python:integer</em>) – determines resolution of image if saved to file. Higher values
result in higher resolution images, but at a cost of having a
larger file size</p></li>
<li><p><strong>resample</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – if true, resample image if spacing is very unbalanced.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ants</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">image_read</span><span class="p">(</span><span class="n">ants</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;r16&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segs</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">kmeans_segmentation</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)[</span><span class="s1">&#39;segmentation&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ants</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">segs</span><span class="o">*</span><span class="p">(</span><span class="n">segs</span><span class="o">==</span><span class="mi">1</span><span class="p">),</span> <span class="n">crop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ants</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">segs</span><span class="o">*</span><span class="p">(</span><span class="n">segs</span><span class="o">==</span><span class="mi">1</span><span class="p">),</span> <span class="n">crop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mni</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">image_read</span><span class="p">(</span><span class="n">ants</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;mni&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segs</span> <span class="o">=</span> <span class="n">mni</span><span class="o">.</span><span class="n">kmeans_segmentation</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)[</span><span class="s1">&#39;segmentation&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ants</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mni</span><span class="p">,</span> <span class="n">segs</span><span class="o">*</span><span class="p">(</span><span class="n">segs</span><span class="o">==</span><span class="mi">1</span><span class="p">),</span> <span class="n">crop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ants.surf">
<span class="sig-prename descclassname"><span class="pre">ants.</span></span><span class="sig-name descname"><span class="pre">surf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantlimits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.1,</span> <span class="pre">0.9)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grayscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg_grayscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inflation_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.03</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(90,</span> <span class="pre">0,</span> <span class="pre">270)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ants/viz/surface.html#surf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ants.surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Render a function onto a surface.</p>
<dl class="simple">
<dt>ANTsR function: <cite>antsrSurf</cite></dt><dd><p>NOTE: the ANTsPy version of this function does NOT make a function call
to ANTs, unlike the ANTsR version, so you don’t have to worry about paths.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – input image defining the surface on which to render</p></li>
<li><p><strong>y</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – input image list defining the function to render on the surface.
these image(s) should be in the same space as x.</p></li>
<li><p><strong>z</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – input image list mask for each y function to render on the surface.
these image(s) should be in the same space as y.</p></li>
<li><p><strong>quantlimits</strong> (<em>tuple/list</em>) – lower and upper quantile limits for overlay</p></li>
<li><p><strong>colormap</strong> (<em>string</em>) – one of: grey, red, green, blue, copper, jet, hsv, spring, summer,
autumn, winter, hot, cool, overunder, custom</p></li>
<li><p><strong>alpha</strong> (<em>scalar</em>) – transparency vector for underlay and each overlay, default zero</p></li>
<li><p><strong>inflation_factor</strong> (<em>python:integer</em>) – number of inflation iterations to run</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – error tolerance for surface reconstruction. Smaller values will
lead to better surfaces, at the cost of taking longer.
Try decreasing this value if your surfaces look very block-y.</p></li>
<li><p><strong>smoothing_sigma</strong> (<em>scalar</em>) – gaussian smooth the overlay by this sigma</p></li>
<li><p><strong>rotation_params</strong> (<em>tuple/list/ndarray</em>) – 3 Rotation angles expressed in degrees or a matrix of rotation
parameters that will be applied in sequence.</p></li>
<li><p><strong>overlay_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em> (</em><em>optional</em><em>)</em>) – absolute lower and upper limits for functional overlay. this parameter
will override quantlimits. Currently, this will set levels above
overlayLimits[2] to overlayLimits[1]. Can be a list of length of y.</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – prefix filename for output pngs</p></li>
<li><p><strong>verbose</strong> (<em>boolean</em>) – prints the command used to call antsSurf</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>N/A</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ants</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ch2i</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">image_read</span><span class="p">(</span> <span class="n">ants</span><span class="o">.</span><span class="n">get_ants_data</span><span class="p">(</span><span class="s2">&quot;ch2&quot;</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ch2seg</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">threshold_image</span><span class="p">(</span> <span class="n">ch2i</span><span class="p">,</span> <span class="s2">&quot;Otsu&quot;</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wm</span>   <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">threshold_image</span><span class="p">(</span> <span class="n">ch2seg</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wm2</span> <span class="o">=</span> <span class="n">wm</span><span class="o">.</span><span class="n">smooth_image</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span><span class="o">.</span><span class="n">threshold_image</span><span class="p">(</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1e15</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kimg</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">weingarten_image_curvature</span><span class="p">(</span> <span class="n">ch2i</span><span class="p">,</span> <span class="mf">1.5</span>  <span class="p">)</span><span class="o">.</span><span class="n">smooth_image</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmz</span> <span class="o">=</span> <span class="n">wm2</span><span class="o">.</span><span class="n">iMath</span><span class="p">(</span><span class="s2">&quot;MD&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rp</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">90</span><span class="p">),</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">270</span><span class="p">),</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">180</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ants</span><span class="o">.</span><span class="n">surf</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="n">wm2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">kimg</span><span class="p">],</span> <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="n">wmz</span><span class="p">],</span>
<span class="go">            inflation_factor=255, overlay_limits=(-0.3,0.3), verbose = True,</span>
<span class="go">            rotation_params = rp, filename=&#39;/users/ncullen/desktop/surface.png&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ants.vol">
<span class="sig-prename descclassname"><span class="pre">ants.</span></span><span class="sig-name descname"><span class="pre">vol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantlimits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.1,</span> <span class="pre">0.9)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(90,</span> <span class="pre">0,</span> <span class="pre">270)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">magnification_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_truncation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">1.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ants/viz/volume.html#vol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ants.vol" title="Permalink to this definition">¶</a></dt>
<dd><p>Render an ANTsImage as a volume with optional ANTsImage functional overlay.
This function is beautiful, and runs very fast. It requires VTK.</p>
<dl class="simple">
<dt>ANTsR function: <cite>antsrVol</cite></dt><dd><p>NOTE: the ANTsPy version of this function does NOT make a function call
to ANTs, unlike the ANTsR version, so you don’t have to worry about paths.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – base volume to render</p></li>
<li><p><strong>overlay</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em> of </em><em>ANTsImages</em>) – functional overlay to render on the volume image.
These images should be in the same space</p></li>
<li><p><strong>colormap</strong> (<em>string</em>) – <dl class="simple">
<dt>possible values:</dt><dd><p>grey, red, green, blue, copper, jet,
hsv, spring, summer, autumn, winter,
hot, cool, overunder, custom</p>
</dd>
</dl>
</p></li>
<li><p><strong>rotation_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em> or </em><em>collection</em><em> of </em><em>tuples</em><em> or </em><em>np.ndarray w/ shape</em><em> (</em><em>N</em><em>,</em><em>3</em><em>)</em>) – <p>rotation parameters to render. The final image will be a stitch of each image
from the given rotation params.
e.g. if rotation_params = [(90,90,90),(180,180,180)], then the final</p>
<blockquote>
<div><p>stiched image will have 2 brain renderings at those angles</p>
</div></blockquote>
</p></li>
<li><p><strong>overlay_limts</strong> – </p></li>
<li><p><strong>magnification_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – how much to zoom in on the image before rendering. If the stitched images
are too far apart, try increasing this value. If the brain volume gets
cut off in the image, try decreasing this value</p></li>
<li><p><strong>intensity_truncation</strong> (<em>2-tuple</em><em> of </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – percentile to truncate intensity of overlay</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – final filename to which the final rendered volume stitch image will be saved
this will always be a .png file</p></li>
<li><p><strong>verbose</strong> (<em>boolean</em>) – whether to print updates during rendering</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>- a numpy array representing the final stitched image.</em></p></li>
<li><p><em>Effects</em></p></li>
<li><p><em>——-</em></p></li>
<li><p><em>- saves a few png files to disk</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ants</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ch2i</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">image_read</span><span class="p">(</span> <span class="n">ants</span><span class="o">.</span><span class="n">get_ants_data</span><span class="p">(</span><span class="s2">&quot;mni&quot;</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ch2seg</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">threshold_image</span><span class="p">(</span> <span class="n">ch2i</span><span class="p">,</span> <span class="s2">&quot;Otsu&quot;</span><span class="p">,</span> <span class="mi">3</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wm</span>   <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">threshold_image</span><span class="p">(</span> <span class="n">ch2seg</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kimg</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">weingarten_image_curvature</span><span class="p">(</span> <span class="n">ch2i</span><span class="p">,</span> <span class="mf">1.5</span>  <span class="p">)</span><span class="o">.</span><span class="n">smooth_image</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rp</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">90</span><span class="p">),</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">270</span><span class="p">),</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">180</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">vol</span><span class="p">(</span> <span class="n">wm</span><span class="p">,</span> <span class="p">[</span><span class="n">kimg</span><span class="p">],</span> <span class="n">quantlimits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.99</span><span class="p">),</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;/users/ncullen/desktop/voltest.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ants.render_surface_function">
<span class="sig-prename descclassname"><span class="pre">ants.</span></span><span class="sig-name descname"><span class="pre">render_surface_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">surfimg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcimg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphasurf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphafunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isosurf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isofunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothsurf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmapsurf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grey'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmapfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'red'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_open</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ants/viz/render_surface_function.html#render_surface_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ants.render_surface_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Render an image as a base surface and an optional collection of other image.</p>
<dl class="simple">
<dt>ANTsR function: <cite>renderSurfaceFunction</cite></dt><dd><p>NOTE: The ANTsPy version of this function is actually completely different
than the ANTsR version, although they should produce similar results.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surfimg</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – Input image to use as rendering substrate.</p></li>
<li><p><strong>funcimg</strong> (<a class="reference internal" href="core.html#ants.core.ants_image.ANTsImage" title="ants.core.ants_image.ANTsImage"><em>ANTsImage</em></a>) – Input list of images to use as functional overlays.</p></li>
<li><p><strong>alphasurf</strong> (<em>scalar</em>) – alpha for the surface contour</p></li>
<li><p><strong>alphafunc</strong> (<em>scalar</em>) – alpha value for functional blobs</p></li>
<li><p><strong>isosurf</strong> (<em>scalar</em>) – intensity level that defines lower threshold for surface image</p></li>
<li><p><strong>isofunc</strong> (<em>scalar</em>) – intensity level that defines lower threshold for functional image</p></li>
<li><p><strong>smoothsurf</strong> (<em>scalar</em><em> (</em><em>optional</em><em>)</em>) – smoothing for the surface image</p></li>
<li><p><strong>smoothfunc</strong> (<em>scalar</em><em> (</em><em>optional</em><em>)</em>) – smoothing for the functional image</p></li>
<li><p><strong>cmapsurf</strong> (<em>string</em>) – color map for surface image</p></li>
<li><p><strong>cmapfunc</strong> (<em>string</em>) – color map for functional image</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – where to save rendering. if None, will plot interactively</p></li>
<li><p><strong>notebook</strong> (<em>boolean</em>) – whether you’re in a jupyter notebook.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>N/A</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ants</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mni</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">image_read</span><span class="p">(</span><span class="n">ants</span><span class="o">.</span><span class="n">get_ants_data</span><span class="p">(</span><span class="s1">&#39;mni&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mnia</span> <span class="o">=</span> <span class="n">ants</span><span class="o">.</span><span class="n">image_read</span><span class="p">(</span><span class="n">ants</span><span class="o">.</span><span class="n">get_ants_data</span><span class="p">(</span><span class="s1">&#39;mnia&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ants</span><span class="o">.</span><span class="n">render_surface_function</span><span class="p">(</span><span class="n">mni</span><span class="p">,</span> <span class="n">mnia</span><span class="p">,</span> <span class="n">alphasurf</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;/users/ncullen/desktop/surffnc.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/antspy-logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">ANTsPy</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="segmentation.html">Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="learn.html">Statistical Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Visualization</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="utils.html" title="previous chapter">Utilities</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, ANTs Contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/vis.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>