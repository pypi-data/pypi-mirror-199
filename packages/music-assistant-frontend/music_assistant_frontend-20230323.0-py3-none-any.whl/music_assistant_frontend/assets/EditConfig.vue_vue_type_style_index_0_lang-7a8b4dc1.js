/* empty css                             */import{g as Q,r as $,b as d,u as D,c as I,Y as te,ao as ne,m as z,d as se,z as de,h as s,q as f,i as v,w as r,p as U,F as G,x as j,k,j as R,v as B,l as y,aA as C,aB as M}from"./index-0a8872de.js";import{V as F,c as oe}from"./VSelect-415cb46c.js";import{a as ie,b as re,c as ue}from"./VCheckboxBtn-1e5fdb0d.js";import{a as pe,c as ce,m as ve,u as be,f as me,V as Ve,b as ye}from"./VLabel-b2d4a6b5.js";import{u as W,E as ge,L as he,b as ke,a as Y,V as H}from"./VBtn-72c7b843.js";import{V as J}from"./VDivider-2e2aca27.js";import{a as fe,b as Ce,c as $e,d as Se,V as we}from"./VExpansionPanel-ca72551c.js";import{f as Ue,V as Ee}from"./VTooltip-032d4283.js";const qe=Q()({name:"VForm",props:{...pe()},emits:{"update:modelValue":n=>!0,submit:n=>!0},setup(n,E){let{slots:g,emit:l}=E;const u=ce(n),V=$();function S(b){b.preventDefault(),u.reset()}function h(b){const m=b,c=u.validate();m.then=c.then.bind(c),m.catch=c.catch.bind(c),m.finally=c.finally.bind(c),l("submit",m),m.defaultPrevented||c.then(q=>{var a;let{valid:w}=q;w&&((a=V.value)==null||a.submit())}),m.preventDefault()}return W(()=>{var b;return d("form",{ref:V,class:"v-form",novalidate:!0,onReset:S,onSubmit:h},[(b=g.default)==null?void 0:b.call(g,u)])}),Ue(u,V)}});const K=Q()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ve(),...ie()},emits:{"update:focused":n=>!0,"update:modelValue":()=>!0,"update:indeterminate":n=>!0},setup(n,E){let{attrs:g,slots:l}=E;const u=D(n,"indeterminate"),V=D(n,"modelValue"),{loaderClasses:S}=ge(n),{isFocused:h,focus:b,blur:m}=be(n),c=I(()=>typeof n.loading=="string"&&n.loading!==""?n.loading:n.color),q=te(),w=I(()=>n.id||`switch-${q}`);function a(){u.value&&(u.value=!1)}return W(()=>{const[o,p]=ne(g),[i,e]=me(n),[x,A]=re(n),t=$();function O(){var P,T;(T=(P=t.value)==null?void 0:P.input)==null||T.click()}return d(Ve,z({class:["v-switch",{"v-switch--inset":n.inset},{"v-switch--indeterminate":u.value},S.value]},o,i,{id:w.value,focused:h.value}),{...l,default:P=>{let{id:T,messagesId:X,isDisabled:Z,isReadonly:_,isValid:ee}=P;return d(ue,z({ref:t},x,{modelValue:V.value,"onUpdate:modelValue":[L=>V.value=L,a],id:T.value,"aria-describedby":X.value,type:"checkbox","aria-checked":u.value?"mixed":void 0,disabled:Z.value,readonly:_.value,onFocus:b,onBlur:m},p),{...l,default:()=>d("div",{class:"v-switch__track",onClick:O},null),input:L=>{let{textColorClasses:le,textColorStyles:ae}=L;return d("div",{class:["v-switch__thumb",le.value],style:ae.value},[n.loading&&d(he,{name:"v-switch",active:!0,color:ee.value===!1?void 0:c.value},{default:N=>l.loader?l.loader(N):d(ke,{active:N.isActive,color:N.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Be={class:"expansion-panel-text"},xe=y("br",null,null,-1),Pe={class:"configcolumnleft"},Te={key:0},Re=y("br",null,null,-1),Fe=y("br",null,null,-1),Ie={key:0,class:"configcolumnright"},Ae={key:1,class:"configcolumnright"},Le=y("br",null,null,-1),Ne=y("br",null,null,-1),Ke=se({__name:"EditConfig",props:{modelValue:null,isBuiltin:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:E}){const g=n,l=$(),u=$(!1),V=$(),S=$("basic"),h=$(!1),b=I(()=>l.value?Object.values(l.value.values).filter(a=>a.advanced&&!a.hidden).length>0:!1),m=I(()=>b.value?["basic","advanced"]:["basic"]);de(()=>g.modelValue,a=>{l.value=g.modelValue},{immediate:!0});const c=async function(){const{valid:a}=await V.value.validate();return a},q=async function(){if(await c()&&l.value){const a={};for(const p in l.value.values){if(l.value.values[p].type==C.SECURE_STRING&&l.value.values[p].value==M)continue;const i=l.value.values[p].value;i!==void 0&&(a[p]=i)}const o={enabled:l.value.enabled,name:l.value.name,values:a};E("update:modelValue",o)}},w=function(a){window.open(a,"_blank")};return(a,o)=>(s(),f("section",null,[l.value?(s(),v(qe,{key:0,ref_key:"form",ref:V,modelValue:u.value,"onUpdate:modelValue":o[4]||(o[4]=p=>u.value=p),style:{"margin-right":"10px"}},{default:r(()=>{var p;return["name"in l.value?(s(),v(F,{key:0,modelValue:l.value.name,"onUpdate:modelValue":o[0]||(o[0]=i=>l.value.name=i),placeholder:(p=n.modelValue)==null?void 0:p.name,label:"player_id"in l.value?a.$t("settings.player_name"):a.$t("settings.provider_name"),variant:"outlined",clearable:""},null,8,["modelValue","placeholder","label"])):U("",!0),"enabled"in l.value?(s(),v(K,{key:1,modelValue:l.value.enabled,"onUpdate:modelValue":o[1]||(o[1]=i=>l.value.enabled=i),label:"player_id"in l.value?a.$t("settings.enable_player"):a.$t("settings.enable_provider"),color:"primary",disabled:n.isBuiltin},null,8,["modelValue","label","disabled"])):U("",!0),d(J),l.value.enabled?(s(),v(fe,{key:2,modelValue:S.value,"onUpdate:modelValue":o[3]||(o[3]=i=>S.value=i),variant:"accordion",multiple:""},{default:r(()=>[(s(!0),f(G,null,j(k(m),i=>(s(),v(Ce,{value:i},{default:r(()=>[i=="advanced"?(s(),v($e,{key:0},{default:r(()=>[y("div",Be,B(a.$t("settings.advanced_settings")),1)]),_:1})):U("",!0),xe,d(Se,null,{default:r(()=>[(s(!0),f(G,null,j(Object.values(l.value.values).filter(e=>e.advanced==(i=="advanced")&&!e.hidden),e=>{var x,A;return s(),f("div",{key:e.key,class:"configrow"},[y("div",Pe,[e.type==k(C).LABEL?(s(),f("div",Te,[Re,d(J),d(ye,{style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:r(()=>{var t;return[y("b",null,B((t=e.value)==null?void 0:t.toString()),1)]}),_:2},1024),Fe])):e.type==k(C).BOOLEAN?(s(),v(K,{key:1,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:a.$t(`settings.${e.key}`,e.label),color:"primary",disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value},null,8,["modelValue","onUpdate:modelValue","label","disabled"])):(e.type==k(C).INTEGER||e.type==k(C).FLOAT)&&e.range&&e.range.length==2?(s(),v(we,{key:2,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,label:a.$t(`settings.${e.key}`,e.label),required:e.required,class:"align-center",min:e.range[0],max:e.range[1],"step-size":e.type==k(C).FLOAT?.5:1,"hide-details":"",style:{"margin-top":"10px","margin-bottom":"25px"},color:"primary"},{append:r(()=>[d(F,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,"hide-details":"","single-line":"",density:"compact",type:"number",style:{width:"70px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","label","required","min","max","step-size"])):e.type==k(C).SECURE_STRING?(s(),v(F,{key:3,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:a.$t(`settings.${e.key}`,e.label),required:e.required,disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,rules:[t=>!(!t&&e.required)||a.$t("settings.invalid_input")],type:h.value?"text":"password","append-inner-icon":h.value?"mdi-eye":typeof e.value=="string"&&e.value.includes(k(M))?"":"mdi-eye-off",variant:"outlined",clearable:"","onClick:appendInner":o[2]||(o[2]=t=>h.value=!h.value)},null,8,["modelValue","onUpdate:modelValue","label","required","disabled","rules","type","append-inner-icon"])):e.options&&e.options.length>0?(s(),v(oe,{key:4,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,chips:e.multi_value,clearable:e.multi_value,multiple:e.multi_value,items:e.options,placeholder:(x=e.default_value)==null?void 0:x.toString(),disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,label:a.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||a.$t("settings.invalid_input")],variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","chips","clearable","multiple","items","placeholder","disabled","label","required","rules"])):(s(),v(F,{key:5,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:(A=e.default_value)==null?void 0:A.toString(),disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,label:a.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||a.$t("settings.invalid_input")],variant:"outlined",clearable:!e.required},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","clearable"]))]),e.description?(s(),f("div",Ie,[d(Ee,{activator:"parent",location:"start","close-on-back":!0,"open-on-click":"","open-on-hover":!0,"close-on-content-click":""},{activator:r(({props:t})=>[d(H,z({class:"helpicon"},t,{size:"x-large",color:"grey-lighten-1",onClick:O=>e.help_link?w(e.help_link):""}),{default:r(()=>[R(" mdi-help-box ")]),_:2},1040,["onClick"])]),default:r(()=>[y("div",null,B(e.description),1)]),_:2},1024)])):e.help_link?(s(),f("div",Ae,[d(H,{class:"helpicon",size:"x-large",color:"grey-lighten-1",onClick:t=>w(e.help_link)},{default:r(()=>[R(" mdi-help-box ")]),_:2},1032,["onClick"])])):U("",!0)])}),128))]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])):U("",!0),Le,d(Y,{block:"",color:"primary",onClick:q},{default:r(()=>[R(B(a.$t("settings.save")),1)]),_:1})]}),_:1},8,["modelValue"])):U("",!0),Ne,d(Y,{block:"",onClick:o[5]||(o[5]=p=>a.$router.back())},{default:r(()=>[R(B(a.$t("close")),1)]),_:1})]))}});export{Ke as _};
