import{d as V,e as k,r as y,a2 as w,o as C,n as c,z as D,h as r,q as f,b as l,w as s,j as d,v as i,i as p,l as n,p as u}from"./index-0a8872de.js";import{_ as $}from"./EditConfig.vue_vue_type_style_index_0_lang-7a8b4dc1.js";import{a as B,V as v}from"./VCardTitle-6fe0d9ad.js";import{V as N}from"./VDivider-2e2aca27.js";import{c as x}from"./VCardText-b9ca7517.js";/* empty css                             */import"./VSelect-415cb46c.js";import"./VLabel-b2d4a6b5.js";import"./VBtn-72c7b843.js";import"./VTooltip-032d4283.js";import"./VMenu-ed6c546a.js";import"./VCheckboxBtn-1e5fdb0d.js";import"./VExpansionPanel-ca72551c.js";const S={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},T=n("br",null,null,-1),j=["href"],M=n("br",null,null,-1),P=n("br",null,null,-1),q=n("br",null,null,-1),Q=V({__name:"AddProvider",props:{domain:null},setup(_){const m=_,g=k(),e=y(),t=w({});C(async()=>{const a=await c.getData("providers/available");for(const o of a)t[o.domain]=o}),D(()=>m.domain,async a=>{a&&(e.value=await c.getData("config/providers/add",{provider_domain:m.domain}))},{immediate:!0});const h=async function(a){e.value.enabled=a.enabled,e.value.name=a.name;for(const o in a.values)e.value.values[o].value=a.values[o];c.getData("config/providers/add",{provider_domain:m.domain,config:e.value}).then(()=>{g.push({name:"providersettings"})}).catch(o=>{alert(o)})};return(a,o)=>(r(),f("section",null,[l(x,null,{default:s(()=>[e.value&&t[e.value.domain]?(r(),f("div",S,[l(B,null,{default:s(()=>[d(i(a.$t("settings.setup_provider",[t[e.value.domain].name])),1)]),_:1}),l(v,null,{default:s(()=>[d(i(t[e.value.domain].description),1)]),_:1}),T,t[e.value.domain].codeowners.length?(r(),p(v,{key:0},{default:s(()=>[n("b",null,i(a.$t("settings.codeowners"))+": ",1),d(i(t[e.value.domain].codeowners.join(" / ")),1)]),_:1})):u("",!0),t[e.value.domain].documentation?(r(),p(v,{key:1},{default:s(()=>[n("b",null,i(a.$t("settings.need_help_setup_provider")),1),d("Â  "),n("a",{href:t[e.value.domain].documentation,target:"_blank"},i(a.$t("settings.check_docs")),9,j)]),_:1})):u("",!0)])):u("",!0),M,l(N),P,q,e.value?(r(),p($,{key:1,"model-value":e.value,"onUpdate:modelValue":o[0]||(o[0]=b=>h(b))},null,8,["model-value"])):u("",!0)]),_:1})]))}});export{Q as default};
