import{d as k,e as y,r as w,a2 as C,o as D,n as m,z as $,h as s,q as f,b as d,w as r,j as u,v as i,i as p,l as o,p as c}from"./index-0a8872de.js";import{_ as B}from"./EditConfig.vue_vue_type_style_index_0_lang-7a8b4dc1.js";import{a as N,V as v}from"./VCardTitle-6fe0d9ad.js";import{V as x}from"./VDivider-2e2aca27.js";import{c as I}from"./VCardText-b9ca7517.js";/* empty css                             */import"./VSelect-415cb46c.js";import"./VLabel-b2d4a6b5.js";import"./VBtn-72c7b843.js";import"./VTooltip-032d4283.js";import"./VMenu-ed6c546a.js";import"./VCheckboxBtn-1e5fdb0d.js";import"./VExpansionPanel-ca72551c.js";const S={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},T=o("br",null,null,-1),j=["href"],E=o("br",null,null,-1),M=o("br",null,null,-1),P=o("br",null,null,-1),W=k({__name:"EditProvider",props:{instanceId:null},setup(g){const _=g,h=y(),e=w(),a=C({});D(async()=>{const t=await m.getData("providers/available");for(const n of t)a[n.domain]=n}),$(()=>_.instanceId,async t=>{t&&(e.value=await m.getData("config/providers/get",{instance_id:_.instanceId}))},{immediate:!0});const b=async function(t){var n;m.getData("config/providers/update",{instance_id:(n=e.value)==null?void 0:n.instance_id,update:t}).then(()=>{h.push({name:"providersettings"})}).catch(l=>{alert(l)})};return(t,n)=>(s(),f("section",null,[d(I,null,{default:r(()=>{var l;return[e.value&&a[e.value.domain]?(s(),f("div",S,[d(N,null,{default:r(()=>[u(i(t.$t("settings.setup_provider",[a[e.value.domain].name])),1)]),_:1}),d(v,null,{default:r(()=>[u(i(a[e.value.domain].description),1)]),_:1}),T,a[e.value.domain].codeowners.length?(s(),p(v,{key:0},{default:r(()=>[o("b",null,i(t.$t("settings.codeowners"))+": ",1),u(i(a[e.value.domain].codeowners.join(" / ")),1)]),_:1})):c("",!0),a[e.value.domain].documentation?(s(),p(v,{key:1},{default:r(()=>[o("b",null,i(t.$t("settings.need_help_setup_provider")),1),u("Â  "),o("a",{href:a[e.value.domain].documentation,target:"_blank"},i(t.$t("settings.check_docs")),9,j)]),_:1})):c("",!0)])):c("",!0),E,d(x),M,P,e.value?(s(),p(B,{key:1,"model-value":e.value,"is-builtin":(l=a[e.value.domain])==null?void 0:l.builtin,"onUpdate:modelValue":n[0]||(n[0]=V=>b(V))},null,8,["model-value","is-builtin"])):c("",!0)]}),_:1})]))}});export{W as default};
