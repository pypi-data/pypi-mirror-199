import{g as z,Y as E,c as D,ao as K,b as m,m as C,d as O,f as H,ag as w,h as i,q as o,w as r,ah as v,k as t,N as u,l as c,v as s,j as b,p as d,i as V,M as j,n as A,U as q}from"./index-81e6cd74.js";import{_ as L,b as W,a as Y}from"./_plugin-vue_export-helper-10ea4db0.js";import{_ as G,c as J,p as Q,a as f,f as X}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-7adae270.js";import{m as Z,u as _,f as ee,V as te}from"./VLabel-1bb8eeb5.js";import{m as ie,f as ae,V as ne}from"./VCheckboxBtn-aed2fe77.js";import{u as se,a as B,V as x}from"./VBtn-90ea71c7.js";import{V as I}from"./VTooltip-ab4b63df.js";import{b as oe,V as me}from"./VCardText-121d376c.js";import{V as le}from"./VDivider-8c5d08a5.js";const re=L(W,[["__scopeId","data-v-5d06b1f9"]]);const de=z()({name:"VCheckbox",inheritAttrs:!1,props:{...Z(),...ie()},emits:{"update:focused":e=>!0},setup(e,y){let{attrs:h,slots:k}=y;const{isFocused:g,focus:p,blur:n}=_(e),a=E(),l=D(()=>e.id||`checkbox-${a}`);return se(()=>{const[$,R]=K(h),[F,Fe]=ee(e),[P,Pe]=ae(e);return m(te,C({class:"v-checkbox"},$,F,{id:l.value,focused:g.value}),{...k,default:T=>{let{id:N,messagesId:M,isDisabled:S,isReadonly:U}=T;return m(ne,C(P,{id:N.value,"aria-describedby":M.value,disabled:S.value,readonly:U.value},R,{onFocus:p,onBlur:n}),k)}})}),{}}}),ue={key:0,class:"listitem-thumb"},ce={key:1,class:"listitem-thumb"},ye={key:2,class:"listitem-thumb"},ve={key:0},be={key:1},fe={key:0},he={key:0},ke={key:1},ge={key:0},we={style:{"margin-left":"2px","margin-top":"3px"}},Ve={key:1},xe={style:{"margin-left":"2px","margin-top":"3px"}},Ce={key:2},pe={key:3},Be={key:4},Ie={key:5},$e={key:6},Ae={class:"listitem-actions"},De={key:2,class:"listitem-action"},Le={key:3,class:"listitem-action"},Re=O({__name:"ListviewItem",props:{item:null,showTrackNumber:{type:Boolean,default:!0},showProviders:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showLibrary:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0}},emits:["menu","click","select"],setup(e,{emit:y}){const h=e,{t:k}=H(),g=D(()=>{for(const n of h.item.provider_mappings)if(n.content_type!=null&&n.content_type in[w.DSF,w.FLAC,w.AIFF,w.WAV]&&(n.sample_rate>48e3||n.bit_depth>16))return`${n.sample_rate}kHz ${n.bit_depth} bits`;return""}),p=function(n){var a;if(n.media_type==u.FOLDER||!h.item.provider_mappings)return!0;for(const l of n.provider_mappings)if(l.available&&((a=A.providers[l.provider_instance])!=null&&a.available))return!0;return!1};return(n,a)=>(i(),o("div",null,[m(me,{ripple:"",class:q(p(e.item)?"":"unavailable"),style:{height:"60px"},lines:"two",density:"compact",onClick:a[6]||(a[6]=v(l=>y("click",e.item),["stop"])),onContextmenu:a[7]||(a[7]=v(l=>y("menu",e.item),["right","prevent"]))},{prepend:r(()=>[e.showCheckboxes?(i(),o("div",ue,[m(de,{"model-value":e.isSelected,onClick:a[0]||(a[0]=v(()=>{},["stop"])),"onUpdate:modelValue":a[1]||(a[1]=l=>{y("select",e.item,l)})},null,8,["model-value"])])):e.item.media_type==t(u).FOLDER?(i(),o("div",ce,[m(B,{variant:"plain",icon:""},{default:r(()=>[m(x,{icon:"mdi-folder",size:"60",style:{align:"center"}})]),_:1})])):(i(),o("div",ye,[m(G,{item:e.item,width:"50px",height:"50px"},null,8,["item"])]))]),title:r(()=>[e.item.media_type==t(u).FOLDER?(i(),o("span",ve,[c("span",null,s(t(J)(e.item,t(k))),1)])):(i(),o("span",be,[b(s(e.item.name)+" ",1),"version"in e.item&&e.item.version?(i(),o("span",fe,"("+s(e.item.version)+")",1)):d("",!0)])),m(t(I),{location:"bottom"},{activator:r(({props:l})=>[t(Q)(e.item.metadata.explicit||!1)?(i(),V(x,C({key:0},l,{class:"listitem-action",icon:"mdi-alpha-e-box",width:"35"}),null,16)):d("",!0)]),default:r(()=>[c("span",null,s(n.$t("tooltip.explicit")),1)]),_:1})]),subtitle:r(()=>[e.item.media_type==t(u).TRACK&&"album"in e.item&&e.item.album&&!e.showTrackNumber?(i(),o("div",he,s(t(f)(e.item.artists))+" • "+s(e.item.album.name),1)):e.item.media_type==t(u).TRACK&&"track_number"in e.item&&e.item.track_number&&e.showTrackNumber?(i(),o("span",ke,[b(s(t(f)(e.item.artists))+" ",1),e.item.disc_number?(i(),o("span",ge,[b("  "),m(x,{class:"material-icons-outlined",style:{"justify-content":"normal"},icon:"md:album"}),c("span",we,s(e.item.disc_number),1)])):d("",!0),e.item.track_number?(i(),o("span",Ve,[b("  "),m(x,{icon:"mdi-music-circle-outline"}),c("span",xe,s(e.item.track_number),1)])):d("",!0)])):e.item.media_type==t(u).ALBUM&&"artists"in e.item&&e.item.artists&&"year"in e.item&&e.item.year&&"album_type"in e.item?(i(),o("div",Ce,s(n.$t("album_type."+e.item.album_type))+" • "+s(t(f)(e.item.artists))+" • "+s(e.item.year),1)):e.item.media_type==t(u).ALBUM&&"artists"in e.item&&e.item.artists&&"album_type"in e.item?(i(),o("div",pe,s(n.$t("album_type."+e.item.album_type))+" • "+s(t(f)(e.item.artists)),1)):"artists"in e.item&&e.item.artists?(i(),o("div",Be,s(t(f)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(i(),o("div",Ie,s(e.item.owner),1)):d("",!0),e.item.media_type==t(u).RADIO&&e.item.metadata.description?(i(),o("div",$e,s(e.item.metadata.description),1)):d("",!0)]),append:r(()=>[c("div",Ae,[t(g)?(i(),V(oe,{key:0,class:"listitem-action",src:t(Y),width:"35",style:j(n.$vuetify.theme.current.dark?"margin-top:5px;":"margin-top:5px;filter: invert(100%);")},{default:r(()=>[m(t(I),{activator:"parent",location:"bottom"},{default:r(()=>[b(s(t(g)),1)]),_:1})]),_:1},8,["src","style"])):d("",!0),e.item.provider_mappings&&e.showProviders&&!n.$vuetify.display.mobile?(i(),V(re,{key:1,"provider-mappings":e.item.provider_mappings,height:20,"enable-details":e.showDetails,"enable-preview":e.item.media_type==t(u).TRACK,class:"listitem-actions"},null,8,["provider-mappings","enable-details","enable-preview"])):d("",!0),"in_library"in e.item&&e.showLibrary&&!n.$vuetify.display.mobile?(i(),o("div",De,[m(t(I),{location:"bottom"},{activator:r(({props:l})=>[m(B,C({variant:"plain",ripple:""},l,{icon:e.item.in_library?"mdi-heart":"mdi-heart-outline",onClick:[a[2]||(a[2]=$=>t(A).toggleLibrary(e.item)),a[3]||(a[3]=v(()=>{},["prevent"])),a[4]||(a[4]=v(()=>{},["stop"]))]}),null,16,["icon"])]),default:r(()=>[c("span",null,s(n.$t("tooltip.library")),1)]),_:1})])):d("",!0),e.showDuration&&e.item.media_type==t(u).TRACK&&"duration"in e.item&&e.item.duration!=null&&!n.$vuetify.display.mobile?(i(),o("div",Le,[c("span",null,s(t(X)(e.item.duration)),1)])):d("",!0)]),e.showMenu?(i(),V(B,{key:0,icon:"mdi-dots-vertical",variant:"plain",style:{position:"absolute",right:"-3px",width:"10px"},onClick:a[5]||(a[5]=v(l=>y("menu",e.item),["stop"]))})):d("",!0)]),_:1},8,["class"]),m(le)]))}});const He=L(Re,[["__scopeId","data-v-5e56b61b"]]);export{He as L,re as P,de as V};
