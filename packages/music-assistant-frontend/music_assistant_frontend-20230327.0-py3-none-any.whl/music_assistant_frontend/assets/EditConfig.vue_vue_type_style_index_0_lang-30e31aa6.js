/* empty css                             */import{g as K,r as C,b as s,u as D,c as L,Z as ae,ao as te,m as G,d as de,z as ne,h as o,q,i as v,w as p,p as w,F as j,x as H,k as c,j as x,v as S,l as $,az as g,aA as M}from"./index-d9a639ee.js";import{V as R,c as se}from"./VSelect-0e21efca.js";import{a as oe,b as re,c as ue}from"./VCheckboxBtn-ff99f68e.js";import{a as ie,c as pe,m as ve,u as be,f as me,V as Ve,b as ce}from"./VLabel-25e99790.js";import{u as Q,G as ye,L as ge,b as ke,a as A}from"./VBtn-f3134d3e.js";import{V as Z}from"./VDivider-ab819d31.js";import{a as he,b as Ce,c as $e,d as fe,V as we}from"./VExpansionPanel-0002361f.js";import{f as Se}from"./forwardRefs-f127c10b.js";import{a as Ue,c as qe}from"./VCard-c8a8334f.js";import{c as Ee}from"./VCardText-191051b8.js";import{V as Te}from"./VDialog-09f67558.js";const Be=K()({name:"VForm",props:{...ie()},emits:{"update:modelValue":d=>!0,submit:d=>!0},setup(d,E){let{slots:k,emit:l}=E;const b=pe(d),y=C();function U(r){r.preventDefault(),b.reset()}function h(r){const V=r,m=b.validate();V.then=m.then.bind(m),V.catch=m.catch.bind(m),V.finally=m.finally.bind(m),l("submit",V),V.defaultPrevented||m.then(T=>{var f;let{valid:B}=T;B&&((f=y.value)==null||f.submit())}),V.preventDefault()}return Q(()=>{var r;return s("form",{ref:y,class:"v-form",novalidate:!0,onReset:U,onSubmit:h},[(r=k.default)==null?void 0:r.call(k,b)])}),Se(b,y)}});const J=K()({name:"VSwitch",inheritAttrs:!1,props:{indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ve(),...oe()},emits:{"update:focused":d=>!0,"update:modelValue":()=>!0,"update:indeterminate":d=>!0},setup(d,E){let{attrs:k,slots:l}=E;const b=D(d,"indeterminate"),y=D(d,"modelValue"),{loaderClasses:U}=ye(d),{isFocused:h,focus:r,blur:V}=be(d),m=L(()=>typeof d.loading=="string"&&d.loading!==""?d.loading:d.color),T=ae(),B=L(()=>d.id||`switch-${T}`);function f(){b.value&&(b.value=!1)}return Q(()=>{const[a,n]=te(k),[u,i]=me(d),[e,N]=re(d),P=C();function F(){var t,I;(I=(t=P.value)==null?void 0:t.input)==null||I.click()}return s(Ve,G({class:["v-switch",{"v-switch--inset":d.inset},{"v-switch--indeterminate":b.value},U.value]},a,u,{id:B.value,focused:h.value}),{...l,default:t=>{let{id:I,messagesId:W,isDisabled:X,isReadonly:Y,isValid:_}=t;return s(ue,G({ref:P},e,{modelValue:y.value,"onUpdate:modelValue":[O=>y.value=O,f],id:I.value,"aria-describedby":W.value,type:"checkbox","aria-checked":b.value?"mixed":void 0,disabled:X.value,readonly:Y.value,onFocus:r,onBlur:V},n),{...l,default:()=>s("div",{class:"v-switch__track",onClick:F},null),input:O=>{let{textColorClasses:ee,textColorStyles:le}=O;return s("div",{class:["v-switch__thumb",ee.value],style:le.value},[d.loading&&s(ge,{name:"v-switch",active:!0,color:_.value===!1?void 0:m.value},{default:z=>l.loader?l.loader(z):s(ke,{active:z.isActive,color:z.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Pe={class:"expansion-panel-text"},Re=$("br",null,null,-1),Ae={class:"configcolumnleft"},Fe={key:0},Ie=$("br",null,null,-1),xe=$("br",null,null,-1),Le={key:0,class:"configcolumnright"},Ne=$("br",null,null,-1),Oe=$("br",null,null,-1),Ye=de({__name:"EditConfig",props:{modelValue:null,isBuiltin:{type:Boolean}},emits:["update:modelValue"],setup(d,{emit:E}){const k=d,l=C(),b=C(!1),y=C(),U=C("basic"),h=C(!1),r=C(),V=L(()=>l.value?Object.values(l.value.values).filter(a=>a.advanced&&!a.hidden).length>0:!1),m=L(()=>V.value?["basic","advanced"]:["basic"]);ne(()=>k.modelValue,a=>{l.value=k.modelValue},{immediate:!0});const T=async function(){const{valid:a}=await y.value.validate();return a},B=async function(){if(await T()&&l.value){const a={};for(const u in l.value.values){if(l.value.values[u].type==g.SECURE_STRING&&l.value.values[u].value==M)continue;const i=l.value.values[u].value;i!==void 0&&(a[u]=i)}const n={enabled:l.value.enabled,name:l.value.name,values:a};E("update:modelValue",n)}},f=function(a){window.open(a,"_blank")};return(a,n)=>(o(),q("section",null,[l.value?(o(),v(Be,{key:0,ref_key:"form",ref:y,modelValue:b.value,"onUpdate:modelValue":n[4]||(n[4]=u=>b.value=u),style:{"margin-right":"10px"}},{default:p(()=>{var u;return["name"in l.value?(o(),v(R,{key:0,modelValue:l.value.name,"onUpdate:modelValue":n[0]||(n[0]=i=>l.value.name=i),placeholder:(u=d.modelValue)==null?void 0:u.name,label:"player_id"in l.value?a.$t("settings.player_name"):a.$t("settings.provider_name"),variant:"outlined",clearable:""},null,8,["modelValue","placeholder","label"])):w("",!0),"enabled"in l.value?(o(),v(J,{key:1,modelValue:l.value.enabled,"onUpdate:modelValue":n[1]||(n[1]=i=>l.value.enabled=i),label:"player_id"in l.value?a.$t("settings.enable_player"):a.$t("settings.enable_provider"),color:"primary",disabled:d.isBuiltin},null,8,["modelValue","label","disabled"])):w("",!0),s(Z),l.value.enabled?(o(),v(he,{key:2,modelValue:U.value,"onUpdate:modelValue":n[3]||(n[3]=i=>U.value=i),variant:"accordion",multiple:""},{default:p(()=>[(o(!0),q(j,null,H(c(m),i=>(o(),v(Ce,{value:i},{default:p(()=>[i=="advanced"?(o(),v($e,{key:0},{default:p(()=>[$("div",Pe,S(a.$t("settings.advanced_settings")),1)]),_:1})):w("",!0),Re,s(fe,null,{default:p(()=>[(o(!0),q(j,null,H(Object.values(l.value.values).filter(e=>e.advanced==(i=="advanced")&&!e.hidden),e=>{var N,P,F;return o(),q("div",{key:e.key,class:"configrow"},[$("div",Ae,[e.type==c(g).LABEL?(o(),q("div",Fe,[Ie,s(Z),s(ce,{style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:p(()=>{var t;return[$("b",null,S((t=e.value)==null?void 0:t.toString()),1)]}),_:2},1024),xe])):e.type==c(g).BOOLEAN?(o(),v(J,{key:1,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:a.$t(`settings.${e.key}`,e.label),color:"primary",disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value},null,8,["modelValue","onUpdate:modelValue","label","disabled"])):(e.type==c(g).INTEGER||e.type==c(g).FLOAT)&&e.range&&e.range.length==2?(o(),v(we,{key:2,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,label:a.$t(`settings.${e.key}`,e.label),required:e.required,class:"align-center",min:e.range[0],max:e.range[1],"step-size":e.type==c(g).FLOAT?.5:1,"hide-details":"",style:{"margin-top":"10px","margin-bottom":"25px"},color:"primary"},{append:p(()=>[s(R,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,"hide-details":"","single-line":"",density:"compact",type:"number",style:{width:"70px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","label","required","min","max","step-size"])):e.type==c(g).SECURE_STRING?(o(),v(R,{key:3,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:a.$t(`settings.${e.key}`,e.label),required:e.required,disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,rules:[t=>!(!t&&e.required)||a.$t("settings.invalid_input")],type:h.value?"text":"password","append-inner-icon":h.value?"mdi-eye":typeof e.value=="string"&&e.value.includes(c(M))?"":"mdi-eye-off",variant:"outlined",clearable:"","onClick:appendInner":n[2]||(n[2]=t=>h.value=!h.value)},null,8,["modelValue","onUpdate:modelValue","label","required","disabled","rules","type","append-inner-icon"])):e.options&&e.options.length>0?(o(),v(se,{key:4,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,chips:e.multi_value,clearable:e.multi_value,multiple:e.multi_value,items:e.options,placeholder:(N=e.default_value)==null?void 0:N.toString(),disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,label:a.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||a.$t("settings.invalid_input")],variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","chips","clearable","multiple","items","placeholder","disabled","label","required","rules"])):e.type==c(g).INTEGER||e.type==c(g).FLOAT?(o(),v(R,{key:5,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:(P=e.default_value)==null?void 0:P.toString(),disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,label:a.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||a.$t("settings.invalid_input")],variant:"outlined",clearable:!e.required,type:"number"},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","clearable"])):(o(),v(R,{key:6,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:(F=e.default_value)==null?void 0:F.toString(),disabled:e.depends_on!=null&&!l.value.values[e.depends_on].value,label:a.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||a.$t("settings.invalid_input")],variant:"outlined",clearable:!e.required},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","clearable"]))]),e.description||e.help_link?(o(),q("div",Le,[s(A,{icon:"mdi-help-box",variant:"plain",class:"helpicon",size:"x-large",onClick:t=>e.description?r.value=e:f(e.help_link)},null,8,["onClick"])])):w("",!0)])}),128))]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])):w("",!0),Ne,s(A,{block:"",color:"primary",onClick:B},{default:p(()=>[x(S(a.$t("settings.save")),1)]),_:1})]}),_:1},8,["modelValue"])):w("",!0),Oe,s(A,{block:"",onClick:n[5]||(n[5]=u=>a.$router.back())},{default:p(()=>[x(S(a.$t("close")),1)]),_:1}),s(Te,{"model-value":r.value!==void 0,width:"auto","onUpdate:modelValue":n[8]||(n[8]=u=>r.value=void 0)},{default:p(()=>[s(Ue,null,{default:p(()=>{var u;return[s(Ee,{textContent:S((u=r.value)==null?void 0:u.description)},null,8,["textContent"]),s(qe,null,{default:p(()=>{var i;return[(i=r.value)!=null&&i.help_link?(o(),v(A,{key:0,color:"primary",block:"",onClick:n[6]||(n[6]=e=>f(r.value.help_link))},{default:p(()=>[x(S(a.$t("close")),1)]),_:1})):w("",!0),s(A,{color:"primary",block:"",onClick:n[7]||(n[7]=e=>r.value=void 0)},{default:p(()=>[x(S(a.$t("close")),1)]),_:1})]}),_:1})]}),_:1})]),_:1},8,["model-value"])]))}});export{Ye as _};
