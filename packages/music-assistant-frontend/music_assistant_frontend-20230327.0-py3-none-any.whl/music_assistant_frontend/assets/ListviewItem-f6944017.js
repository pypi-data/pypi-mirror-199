import{g as z,Z as E,c as D,ao as K,b as l,m as C,d as O,f as H,ah as g,h as i,q as o,w as d,ai as v,k as t,N as u,l as c,v as s,j as b,p as r,i as V,M as j,n as $,U as q}from"./index-d9a639ee.js";import{_ as L,b as W,a as Z}from"./_plugin-vue_export-helper-04d5d167.js";import{_ as G,c as J,p as Q,a as f,f as X}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-6c327fc2.js";import{m as Y,u as _,f as ee,V as te}from"./VLabel-25e99790.js";import{m as ie,f as ae,V as ne}from"./VCheckboxBtn-ff99f68e.js";import{u as se,a as B,V as x}from"./VBtn-f3134d3e.js";import{V as I}from"./VTooltip-bfedd597.js";import{b as oe,V as le}from"./VCardText-191051b8.js";import{V as me}from"./VDivider-ab819d31.js";const re=L(W,[["__scopeId","data-v-5d06b1f9"]]);const de=z()({name:"VCheckbox",inheritAttrs:!1,props:{...Y(),...ie()},emits:{"update:focused":e=>!0},setup(e,y){let{attrs:h,slots:k}=y;const{isFocused:w,focus:p,blur:n}=_(e),a=E(),m=D(()=>e.id||`checkbox-${a}`);return se(()=>{const[A,R]=K(h),[F,Pe]=ee(e),[P,Te]=ae(e);return l(te,C({class:"v-checkbox"},A,F,{id:m.value,focused:w.value}),{...k,default:T=>{let{id:N,messagesId:M,isDisabled:S,isReadonly:U}=T;return l(ne,C(P,{id:N.value,"aria-describedby":M.value,disabled:S.value,readonly:U.value},R,{onFocus:p,onBlur:n}),k)}})}),{}}}),ue={key:0,class:"listitem-thumb"},ce={key:1,class:"listitem-thumb"},ye={key:2,class:"listitem-thumb"},ve={key:0},be={key:1},fe={key:0},he={key:0},ke={key:0},we={key:1},ge={key:0},Ve={style:{"margin-left":"2px","margin-top":"3px"}},xe={key:1},Ce={style:{"margin-left":"2px","margin-top":"3px"}},pe={key:2},Be={key:3},Ie={key:4},Ae={key:5},$e={key:6},De={class:"listitem-actions"},Le={key:2,class:"listitem-action"},Re={key:3,class:"listitem-action"},Fe=O({__name:"ListviewItem",props:{item:null,showTrackNumber:{type:Boolean,default:!0},showProviders:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showLibrary:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0}},emits:["menu","click","select"],setup(e,{emit:y}){const h=e,{t:k}=H(),w=D(()=>{for(const n of h.item.provider_mappings)if(n.content_type!=null&&n.content_type in[g.DSF,g.FLAC,g.AIFF,g.WAV]&&(n.sample_rate>48e3||n.bit_depth>16))return`${n.sample_rate}kHz ${n.bit_depth} bits`;return""}),p=function(n){var a;if(n.media_type==u.FOLDER||!h.item.provider_mappings)return!0;for(const m of n.provider_mappings)if(m.available&&((a=$.providers[m.provider_instance])!=null&&a.available))return!0;return!1};return(n,a)=>(i(),o("div",null,[l(le,{ripple:"",class:q(p(e.item)?"":"unavailable"),style:{height:"60px"},lines:"two",density:"compact",onClick:a[6]||(a[6]=v(m=>y("click",e.item),["stop"])),onContextmenu:a[7]||(a[7]=v(m=>y("menu",e.item),["right","prevent"]))},{prepend:d(()=>[e.showCheckboxes?(i(),o("div",ue,[l(de,{"model-value":e.isSelected,onClick:a[0]||(a[0]=v(()=>{},["stop"])),"onUpdate:modelValue":a[1]||(a[1]=m=>{y("select",e.item,m)})},null,8,["model-value"])])):e.item.media_type==t(u).FOLDER?(i(),o("div",ce,[l(B,{variant:"plain",icon:""},{default:d(()=>[l(x,{icon:"mdi-folder",size:"60",style:{align:"center"}})]),_:1})])):(i(),o("div",ye,[l(G,{item:e.item,width:"50px",height:"50px"},null,8,["item"])]))]),title:d(()=>[e.item.media_type==t(u).FOLDER?(i(),o("span",ve,[c("span",null,s(t(J)(e.item,t(k))),1)])):(i(),o("span",be,[b(s(e.item.name)+" ",1),"version"in e.item&&e.item.version?(i(),o("span",fe,"("+s(e.item.version)+")",1)):r("",!0)])),l(t(I),{location:"bottom"},{activator:d(({props:m})=>[t(Q)(e.item.metadata.explicit||!1)?(i(),V(x,C({key:0},m,{class:"listitem-action",icon:"mdi-alpha-e-box",width:"35"}),null,16)):r("",!0)]),default:d(()=>[c("span",null,s(n.$t("tooltip.explicit")),1)]),_:1})]),subtitle:d(()=>[e.item.media_type==t(u).TRACK&&"album"in e.item&&e.item.album&&!e.showTrackNumber?(i(),o("div",he,[b(s(t(f)(e.item.artists)),1),e.showAlbum?(i(),o("span",ke," • "+s(e.item.album.name),1)):r("",!0)])):e.item.media_type==t(u).TRACK&&"track_number"in e.item&&e.item.track_number&&e.showTrackNumber?(i(),o("span",we,[b(s(t(f)(e.item.artists))+" ",1),e.item.disc_number?(i(),o("span",ge,[b("  "),l(x,{class:"material-icons-outlined",style:{"justify-content":"normal"},icon:"md:album"}),c("span",Ve,s(e.item.disc_number),1)])):r("",!0),e.item.track_number?(i(),o("span",xe,[b("  "),l(x,{icon:"mdi-music-circle-outline"}),c("span",Ce,s(e.item.track_number),1)])):r("",!0)])):e.item.media_type==t(u).ALBUM&&"artists"in e.item&&e.item.artists&&"year"in e.item&&e.item.year&&"album_type"in e.item?(i(),o("div",pe,s(n.$t("album_type."+e.item.album_type))+" • "+s(t(f)(e.item.artists))+" • "+s(e.item.year),1)):e.item.media_type==t(u).ALBUM&&"artists"in e.item&&e.item.artists&&"album_type"in e.item?(i(),o("div",Be,s(n.$t("album_type."+e.item.album_type))+" • "+s(t(f)(e.item.artists)),1)):"artists"in e.item&&e.item.artists?(i(),o("div",Ie,s(t(f)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(i(),o("div",Ae,s(e.item.owner),1)):r("",!0),e.item.media_type==t(u).RADIO&&e.item.metadata.description?(i(),o("div",$e,s(e.item.metadata.description),1)):r("",!0)]),append:d(()=>[c("div",De,[t(w)?(i(),V(oe,{key:0,class:"listitem-action",src:t(Z),width:"35",style:j(n.$vuetify.theme.current.dark?"margin-top:5px;":"margin-top:5px;filter: invert(100%);")},{default:d(()=>[l(t(I),{activator:"parent",location:"bottom"},{default:d(()=>[b(s(t(w)),1)]),_:1})]),_:1},8,["src","style"])):r("",!0),e.item.provider_mappings&&e.showProviders&&!n.$vuetify.display.mobile?(i(),V(re,{key:1,"provider-mappings":e.item.provider_mappings,height:20,"enable-details":e.showDetails,"enable-preview":e.item.media_type==t(u).TRACK,class:"listitem-actions"},null,8,["provider-mappings","enable-details","enable-preview"])):r("",!0),"in_library"in e.item&&e.showLibrary&&!n.$vuetify.display.mobile?(i(),o("div",Le,[l(t(I),{location:"bottom"},{activator:d(({props:m})=>[l(B,C({variant:"plain",ripple:""},m,{icon:e.item.in_library?"mdi-heart":"mdi-heart-outline",onClick:[a[2]||(a[2]=A=>t($).toggleLibrary(e.item)),a[3]||(a[3]=v(()=>{},["prevent"])),a[4]||(a[4]=v(()=>{},["stop"]))]}),null,16,["icon"])]),default:d(()=>[c("span",null,s(n.$t("tooltip.library")),1)]),_:1})])):r("",!0),e.showDuration&&e.item.media_type==t(u).TRACK&&"duration"in e.item&&e.item.duration!=null&&!n.$vuetify.display.mobile?(i(),o("div",Re,[c("span",null,s(t(X)(e.item.duration)),1)])):r("",!0)]),e.showMenu?(i(),V(B,{key:0,icon:"mdi-dots-vertical",variant:"plain",style:{position:"absolute",right:"-3px",width:"10px"},onClick:a[5]||(a[5]=v(m=>y("menu",e.item),["stop"]))})):r("",!0)]),_:1},8,["class"]),l(me)]))}});const je=L(Fe,[["__scopeId","data-v-32144387"]]);export{je as L,re as P,de as V};
