import{d as k,e as y,r as w,a3 as C,o as D,n as m,z as $,h as s,q as f,b as d,w as r,j as u,v as i,i as p,l as o,p as c}from"./index-ee8437d7.js";import{_ as B}from"./EditConfig.vue_vue_type_style_index_0_lang-4b1e017a.js";import{b as N,V as v}from"./VCard-8b0196fc.js";import{V as x}from"./VDivider-4507c497.js";import{c as I}from"./VCardText-6a1c7759.js";/* empty css                             */import"./VSelect-5c229b12.js";import"./VLabel-8db56deb.js";import"./VBtn-b96ed4d9.js";import"./forwardRefs-c136d9cb.js";import"./VMenu-41a392e9.js";import"./VCheckboxBtn-fb15dfa2.js";import"./VExpansionPanel-00aa5105.js";import"./VDialog-49d874f5.js";const S={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},T=o("br",null,null,-1),j=["href"],E=o("br",null,null,-1),M=o("br",null,null,-1),P=o("br",null,null,-1),X=k({__name:"EditProvider",props:{instanceId:null},setup(g){const _=g,h=y(),e=w(),a=C({});D(async()=>{const t=await m.getData("providers/available");for(const n of t)a[n.domain]=n}),$(()=>_.instanceId,async t=>{t&&(e.value=await m.getData("config/providers/get",{instance_id:_.instanceId}))},{immediate:!0});const b=async function(t){var n;m.getData("config/providers/update",{instance_id:(n=e.value)==null?void 0:n.instance_id,update:t}).then(()=>{h.push({name:"providersettings"})}).catch(l=>{alert(l)})};return(t,n)=>(s(),f("section",null,[d(I,null,{default:r(()=>{var l;return[e.value&&a[e.value.domain]?(s(),f("div",S,[d(N,null,{default:r(()=>[u(i(t.$t("settings.setup_provider",[a[e.value.domain].name])),1)]),_:1}),d(v,null,{default:r(()=>[u(i(a[e.value.domain].description),1)]),_:1}),T,a[e.value.domain].codeowners.length?(s(),p(v,{key:0},{default:r(()=>[o("b",null,i(t.$t("settings.codeowners"))+": ",1),u(i(a[e.value.domain].codeowners.join(" / ")),1)]),_:1})):c("",!0),a[e.value.domain].documentation?(s(),p(v,{key:1},{default:r(()=>[o("b",null,i(t.$t("settings.need_help_setup_provider")),1),u("Â  "),o("a",{href:a[e.value.domain].documentation,target:"_blank"},i(t.$t("settings.check_docs")),9,j)]),_:1})):c("",!0)])):c("",!0),E,d(x),M,P,e.value?(s(),p(B,{key:1,"model-value":e.value,"is-builtin":(l=a[e.value.domain])==null?void 0:l.builtin,"onUpdate:modelValue":n[0]||(n[0]=V=>b(V))},null,8,["model-value","is-builtin"])):c("",!0)]}),_:1})]))}});export{X as default};
