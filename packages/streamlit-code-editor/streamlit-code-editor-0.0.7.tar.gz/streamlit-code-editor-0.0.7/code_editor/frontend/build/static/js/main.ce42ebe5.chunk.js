(this["webpackJsonpstreamlit-code-editor"]=this["webpackJsonpstreamlit-code-editor"]||[]).push([[0],{501:function(e,t,n){"use strict";n.r(t);var o,r=n(0),s=n.n(r),a=n(32),i=n.n(a),c=n(3),m=n(2),l=n(12),u=n(6),d=n(4),p=n(33),f=n(7),g=n(15),y=n(8),b=n.n(y),h=n(34),v=n.n(h),S=(n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(497),n(5)),O=function(e){var t=e.lang,n=e.theme,o=e.shortcuts,s=e.props,a=e.snippetString,i=e.commands,l=e.keybindingString,u=e.editorRef,p=e.code,f=e.onChange;return Object(r.useEffect)((function(){if(u.current){b.a.require("ace/autocomplete").Autocomplete.for(u.current.editor);var e=JSON.parse(l);e.commands&&e.commands.length>0&&e.commands.forEach((function(e){var t;if(e.name&&"string"===typeof e.name&&JSON.stringify(null!==(t=u.current.editor.commands.commands[e.name].bindKey)&&void 0!==t?t:"")!==JSON.stringify(e.bindkey)){var n=Object(c.a)({},u.current.editor.commands.commands[e.name]);n.bindKey=e.bindkey,u.current.editor.commands.addCommand(n),i=[].concat(Object(m.a)(i),[n])}})),e.completer&&e.completer.length>0&&e.completer.forEach((function(e){var t;if(e.name&&"string"===typeof e.name&&JSON.stringify(null!==(t=u.current.editor.completer.keyboardHandler.commands[e.name].bindKey)&&void 0!==t?t:"")!==JSON.stringify(e.bindkey)){var n=Object(c.a)({},u.current.editor.completer.keyboardHandler.commands[e.name]);n.bindKey=e.bindkey,u.current.editor.completer.keyboardHandler.addCommand(n)}})),b.a.require("ace/ext/keybinding_menu").init(u.current.editor);for(var t=b.a.require("ace/snippets").snippetManager,n=JSON.parse(a),o=0,r=Object.entries(n);o<r.length;o++){var s=Object(d.a)(r[o],2),p=s[0],f=s[1];f[0]&&t.register(t.parseSnippetFile(f[0],p),p),f[1]&&t.unregister(t.parseSnippetFile(f[1],p),p)}}}),[a,l]),Object(S.jsx)(v.a,Object(c.a)({ref:u,name:"REACT_ACE_EDITOR",mode:t,theme:n,value:p,keyboardHandler:o,commands:i,onChange:f},s))},j=n(38),x=f.c.div.withConfig({displayName:"button-menu__StyledDiv",componentId:"sc-rz5v7a-0"})([""]),k=Object(f.c)(x).withConfig({displayName:"button-menu___StyledStyledDiv2",componentId:"sc-rz5v7a-1"})(["",""],(function(e){return e.$_css2})),C=Object(f.c)(x).withConfig({displayName:"button-menu___StyledStyledDiv",componentId:"sc-rz5v7a-2"})(["",""],(function(e){return e.$_css})),w=f.c.span.withConfig({displayName:"button-menu__StyledRegSpan",componentId:"sc-rz5v7a-3"})([""]),_=f.c.span.withConfig({displayName:"button-menu__StyledSpan",componentId:"sc-rz5v7a-4"})(["height:2.5rem;line-height:2.5rem;margin:0px 0.4rem 0.15rem 0.4rem;opacity:0;transform:scale(0);transition:opacity 300ms 150ms,transform 300ms 150ms;"]),E=f.c.button.withConfig({displayName:"button-menu__StyledButton",componentId:"sc-rz5v7a-5"})(["border:none;border-radius:5px;background:none;height:2.5rem;line-height:0;display:flex;align-items:center;justify-content:center;opacity:0;position:absolute;transform:scale(0);transition:opacity 20ms 300ms,transform 20ms 300ms;z-index:9994;:focus{outline:none;}span{color:",";transform:scale(0);transform-origin:right;transition:opacity 300ms 150ms,transform 300ms 150ms;}:hover span{color:",";opacity:1;transform:scale(1);}svg{stroke:",";transform:scale(0);transition:opacity 300ms 150ms,transform 300ms 150ms;}:hover svg{stroke:",";}"],(function(e){return"streamlit_dark"===e.themeProp?"rgba(250,250,250,0.6)":"rgba(0,0,0,0.5)"}),(function(e){return e.primary?e.theme.primaryColor:"streamlit_dark"===e.themeProp?"rgb(250,250,250)":"rgb(49, 51, 63)"}),(function(e){return"streamlit_dark"===e.themeProp?"rgba(250,250,250,0.6)":"rgba(0,0,0,0.5)"}),(function(e){return e.primary?e.theme.primaryColor:"streamlit_dark"===e.themeProp?"rgb(250,250,250)":"rgb(49, 51, 63)"})),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=j[e];return Object(S.jsx)(n,{size:"".concat(t)})},A=function(e){var t=e.info,n=e.theme,o=e.infoRef;return Object(S.jsx)(f.a,{theme:n,children:0===Object.keys(t).length?"":Object(S.jsxs)(C,{className:"custom_info_bar "+(t.name?t.name:""),style:t.style,$_css:t.css,children:[Object(S.jsx)(w,{ref:o,className:"code_editor-info message"},"code_editor_info_message"),(t.info||[]).map((function(e){return Object(S.jsx)(w,{className:e.class,style:e.style,children:e.name},"info_"+e.name)}))]},"info_bar")})},I=function(e){var t=e.button,n=e.theme,o=e.themeProp,s=e.executeAll,a=Object(r.useState)(!1),i=Object(d.a)(a,2),c=i[0],m=i[1],l=Object(r.useRef)(null);return Object(S.jsxs)(E,{ref:l,primary:!!t.primary&&t.primary,className:(t.class?t.class:"")+(t.alwaysOn?" always-on":"")+(t.showWithIcon?" with-icon":""),themeProp:o,style:t.style,theme:n,onClick:function(){var e,n,o;return n=null!==(e=t.commands)&&void 0!==e?e:[],o=t.toggledCommands,void(t.classToggle?(m(!c),l.current?(l.current.classList.toggle(t.classToggle),l.current.classList.contains(t.classToggle)?s(l,n):s(l,null!==o&&void 0!==o?o:n)):s(l,c&&null!==o&&void 0!==o?o:n)):s(l,n))},children:[t.hasText&&t.name?Object(S.jsx)(_,{children:t.name}):"",t.feather?N(t.feather||"X",t.iconSize):""]})},T=function(e){var t=e.buttonGroup,n=e.executeAll,o=e.theme,r=e.themeProp,s=function(e,t){t&&n(t)};return Object(S.jsx)(f.a,{theme:o,children:t.buttons.map((function(e){return Object(S.jsx)(I,{button:e,themeProp:r,theme:o,executeAll:function(e,t){return s(0,t)}},t.name+"_"+e.name)}))})},J=function(e){var t=e.menu,n=e.executeAll,o=e.theme,r=e.themeProp,s=function(e,t){t&&n(t)};return Object(S.jsx)(f.a,{theme:o,children:0===Object.keys(t).length?"":Object(S.jsx)(k,{className:"custom_menu",style:t.style,$_css2:t.css,children:t.groups?t.groups.map((function(e,t){return Object(S.jsx)(x,{className:"menu_group "+e.name,style:e.style,"data-one-toggle-only":e.toggleOnlyOne,children:e.buttons.map((function(t){return Object(S.jsx)(I,{button:t,themeProp:r,theme:o,executeAll:function(e,t){return s(0,t)}},e.name+"_"+t.name)}))},"group_"+e.name+t)})):""},"menu_bar")})},P=["info","menu","focus"],K={fontFamily:'"Source Code Pro", monospace',cursorStyle:"smooth",displayIndentGuides:!1,wrap:!0,highlightActiveLine:!0,showPrintMargin:!1,showLineNumbers:!1,foldStyle:"markbegin",autoScrollEditorIntoView:!1,animatedScroll:!0,fadeFoldWidgets:!0},L={editorProps:{$blockScrolling:!0}},M={cursorStart:1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!0,enableSnippets:!0,focus:!1,fontSize:14,highlightActiveLine:!0,navigateToFileEnd:!0,placeholder:null,readOnly:!1,scrollMargin:[15,15,0,0],setOptions:K,showGutter:!0,showPrintMargin:!1,style:{},tabSize:4,width:"auto",debounceChangePeriod:250},R=Object(f.b)(o||(o=Object(p.a)(["\n  html {\n    opacity: ",";\n    cursor: ",";\n    pointer-events: ",";\n  }\n  body {\n    margin: 0;\n    padding: 0;\n  }\n  ","\n"])),(function(e){return e.isDisabled?"0.5":"1"}),(function(e){return e.isDisabled?"not-allowed":"auto"}),(function(e){return e.isDisabled?"none":"auto"}),(function(e){return e.inject})),D=f.c.div.withConfig({displayName:"CodeEditor__StyledCodeEditor",componentId:"sc-wmif04-0"})(["width:100%;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;:hover button{opacity:1;transform:scale(1);}button.always-on{opacity:1;transform:scale(1);transition:none;}:hover button svg{opacity:1;transform:scale(1);}:hover button.with-icon span{opacity:1;transform:scale(1);}button.always-on > span{opacity:1;transform:scale(1);transition:none;}button.always-on > svg{opacity:1;transform:scale(1);transition:none;}"]),$=Object(f.c)(D).withConfig({displayName:"CodeEditor___StyledStyledCodeEditor",componentId:"sc-wmif04-1"})(["",""],(function(e){return e.$_css})),z=Object(g.b)((function(e){var t,n,o=e.args,s=(e.width,e.disabled),a=e.theme,i=Object(r.useState)(o.code),p=Object(d.a)(i,2),f=p[0],y=p[1],h=Object(r.useRef)(null),v=Object(r.useRef)(null),j=Object(r.useRef)(null),x=Object(r.useRef)(!1),k=function(e){return"string"===typeof e?e:(Array.isArray(e)?e:[e]).map((function(e){return["snippet "+e.name,e.code.split("\n").map((function(e){return"\t"+e})).join("\n")].join("\n")})).join("\n")},C=Object(r.useState)(Object(u.a)({},o.lang,[k(o.snippets[0]),k(o.snippets[1])])),w=Object(d.a)(C,2),_=w[0],E=w[1],N=Object(r.useState)(o.keybindings),I=Object(d.a)(N,2),D=I[0],z=I[1];Object(r.useEffect)((function(){return function(){n&&clearTimeout(n)}}),[]),Object(r.useEffect)((function(){h.current&&x.current&&(h.current.editor.focus(),x.current=!1)}),[x.current]),Object(r.useEffect)((function(){h.current&&o.focus&&h.current.editor.focus()}),[o.focus]);var H={commands:[{name:"submit",description:"Send 'submit' response",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:function(e){var t=e.getSession().$modeId.split("/").pop();g.a.setComponentValue({text:e.getValue(),type:"submit",lang:t})}},{name:"saveState",description:"Save state",bindKey:{win:"Ctrl-Alt-S",mac:"Command-Alt-S"},exec:function(e){y(e.getValue())}},{name:"copyAll",description:"Copy all text to clipboard",exec:function(e){F(e.getValue())}},{name:"reset",exec:function(){B()}},{name:"keepFocus",description:"Return cursor to editor",exec:function(){x.current=!0}},{name:"setMode",description:"Set language mode",exec:function(e,t){t&&"string"===typeof t&&e.getSession().setMode("ace/mode/"+t)},readOnly:!0},{name:"changeShortcuts",description:"Switch shortcuts",exec:function(e,t){if(t&&"string"===typeof t)e.setKeyboardHandler("ace/keyboard/"+t);else{var n=["ace/keyboard/vim","ace/keyboard/emacs","ace/keyboard/sublime","ace/keyboard/vscode"],o=n[(n.indexOf(e.$keybindingId)+1)%4];e.setKeyboardHandler(o)}},readOnly:!0},{name:"toggleKeyboardShortcuts",exec:function(e){document.getElementById("kbshortcutmenu")?e.execCommand("simulateKeyPress",{type:"keydown",keyCode:27}):e.execCommand("showKeyboardShortcuts")}},{name:"simulateKeyPress",exec:function(e,t){t.key?document.dispatchEvent(new KeyboardEvent(t.type,{key:t.key})):t.keyCode&&document.dispatchEvent(new KeyboardEvent(t.type,{keyCode:t.keyCode}))}},{name:"infoMessage",description:"Display message in info bar",exec:function(e,t){if(t.targetQueryString){var o=document.querySelector(t.targetQueryString);o&&(o.innerText=t.text,o.classList.add(t.classToggle||""),t.timeout&&(n=setTimeout((function(){o.classList.remove(t.classToggle||"")}),t.timeout)))}else v.current&&(v.current.innerText=t.text,v.current.classList.add(t.classToggle||""),t.timeout&&(n=setTimeout((function(){var e;null===(e=v.current)||void 0===e||e.classList.remove(t.classToggle||"")}),t.timeout)))}},{name:"response",description:"Send custom response",exec:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.getSession().$modeId.split("/").pop();g.a.setComponentValue({text:f,type:t,lang:n})}},{name:"editSnippets",description:"Edit snippets",bindKey:{win:"Ctrl-Alt-M",mac:"Command-Alt-M"},exec:function(e){var t=b.a.require("ace/snippets").snippetManager;if(j.current){var n=e.getSession().$modeId.split("/").pop();if("snippets"===n){var r=e.getSession().getValue();e.setSession(j.current),j.current=null,y(e.getSession().getValue());try{var s=r.split("###~~~")[1].split("###---"),a=Object(d.a)(s,2),i=a[0],c=a[1],m=i.split("###+++")[1],l=c,p=e.getSession().$modeId.split("/").pop();E(Object(u.a)({},p,[_[p][0]+m,_[p][1]+l]))}catch(x){e.execCommand("infoMessage",{text:"error parsing file, restoring original file",timeout:2e3,classToggle:"show"})}}}else{var f=e.getSession().$modeId.split("/").pop(),g="\n###~~~#(DO NOT EDIT THIS LINE)\n# Commented out above are all the snippets that are currently\n# registered for ".concat(o.lang," mode.\n\n\n###+++#(DO NOT EDIT THIS LINE) \n# Put the snippets you want to add below this line.\n\n\n\n\n\n\n\n###---#(DO NOT EDIT THIS LINE) \n# Put the snippets you want to remove below this line.\n\n\n\n\n\n\n"),h="#"+k(t.snippetMap[f].map((function(e){return{name:e.name,code:e.content}}))).replace(/\n/g,"\n#")+g,v=(h.match(/\n/g)||[]).length;j.current=e.getSession();var S=b.a.createEditSession(h,"ace/mode/snippets");e.setSession(S);var O={row:v-15>0?v-15:0,column:0};e.moveCursorTo(O.row,O.column),e.renderer.scrollCursorIntoView(O,.5)}}},{name:"editKeyBindings",description:"Edit keybindings",bindKey:{win:"Ctrl-Alt-B",mac:"Command-Alt-B"},exec:function(e){if(b.a.require("ace/autocomplete").Autocomplete.for(e),j.current){if("json"===e.getSession().$modeId.split("/").pop()){var t=e.getSession().getValue();e.setSession(j.current),j.current=null,y(e.getSession().getValue());try{z(JSON.parse(t))}catch(s){e.execCommand("infoMessage",{text:"error parsing file, restoring original file",timeout:2e3,classToggle:"show"})}}}else{var n={commands:{},completer:{}};e.completer&&e.completer.keyboardHandler.commands&&(n.completer=Object.keys(e.completer.keyboardHandler.commands).map((function(t){var n;return{bindkey:null!==(n=e.completer.keyboardHandler.commands[t].bindKey)&&void 0!==n?n:"",name:e.completer.keyboardHandler.commands[t].name}}))),e.commands.commands&&(n.commands=Object.keys(e.commands.commands).map((function(t){var n;return{bindkey:null!==(n=e.commands.commands[t].bindKey)&&void 0!==n?n:"",name:e.commands.commands[t].name}})));var o=JSON.stringify(n,void 0,2);j.current=e.getSession();var r=b.a.createEditSession(o,"ace/mode/json");e.setSession(r)}}},{name:"exitSession",bindKey:{win:"Esc",mac:"Esc"},description:"Return to main session (keep changes)",exec:function(e){if(j.current){var t=e.getSession().$modeId.split("/").pop();"snippets"===t?e.execCommand("editSnippets"):"json"===t&&e.execCommand("editKeyBindings")}}},{name:"abandonSession",bindKey:{win:"Ctrl-Alt-Esc",mac:"Command-Alt-Esc"},description:"Return to main session (discard changes)",exec:function(e){j.current&&(e.setSession(j.current),j.current=null,y(e.getSession().getValue()))}},{name:"classART",description:"Add/Remove/Toggle class for element",exec:function(e,t){var n,o,r;if(t.targetQueryString&&t.type&&t.class)switch(t.type){case"add":null===(n=document.querySelectorAll(t.targetQueryString))||void 0===n||n.forEach((function(e){return e.classList.add(t.class)}));break;case"remove":null===(o=document.querySelectorAll(t.targetQueryString))||void 0===o||o.forEach((function(e){return e.classList.remove(t.class)}));break;case"toggle":null===(r=document.querySelectorAll(t.targetQueryString))||void 0===r||r.forEach((function(e){return e.classList.toggle(t.class)}))}}},{name:"conditionalExecute",description:"Execute command if element exists",exec:function(e,t){var n;t.targetQueryString&&t.command&&Array.isArray(t.command)&&(!(null===(n=t.condition)||void 0===n||n)===!document.querySelector(t.targetQueryString)&&("string"===typeof t.command[0]?V(t.command[0],t.command[1]):console.warn("Editor command - conditionalExecute: improper command format! Command array must contain name of command as first element and arguments as second element.")))}}]},V=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=null===(t=h.current)||void 0===t?void 0:t.editor;if(o)if(n)if("number"===typeof n||"string"===typeof n)o.execCommand(e,n);else if("object"!==typeof n||Array.isArray(n))console.warn('Function - execute: failed to parse/execute "'.concat(e,'" command!'));else{var r=!0;Object.keys(n).forEach((function(e){r="string"===typeof n[e]||"number"===typeof n[e]||Array.isArray(n[e])})),Object.keys(n).length<4&&r&&o.execCommand(e,n)}else o.execCommand(e)},q=function(e){e.forEach((function(e){Array.isArray(e)?"string"===typeof e[0]?V(e[0],e[1]):console.warn("Function - executeAll: improper command format! Singular commands must contain name of command as first element and arguments as second element."):"string"===typeof e?V(e):console.warn("Function - executeAll: failed to parse/execute command(s)!")}))},B=function(){y(o.code)},F=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()},Q=new ResizeObserver((function(e){var t;g.a.setFrameHeight(null!==(t=e[0].contentBoxSize.blockSize)&&void 0!==t?t:e[0].contentRect.height)})),G=function(){var e=!a||"dark"===a.base;switch(o.theme){case"contrast":return e?"streamlit_light":"streamlit_dark";case"light":return"streamlit_light";case"dark":return"streamlit_dark";default:return e?"streamlit_dark":"streamlit_light"}}(),W=o.component_props,X=o.info,U=o.menu,Y=(o.focus,Object(l.a)(o,P)),Z=JSON.stringify(Y),ee=JSON.stringify(U),te=JSON.stringify(X),ne=JSON.stringify(o.buttons),oe=JSON.stringify(a),re=JSON.stringify(_),se=Object(r.useMemo)((function(){var e=JSON.stringify(D),t=JSON.parse(Z);t.buttons.length>0&&t.buttons.forEach((function(e){H.commands=[].concat(Object(m.a)(H.commands),[{name:e.name.trim().replace(/\s+/g,"_")+"_button",description:"Execute '"+e.name+"' button command(s)",exec:function(){q(e.commands)}}])}));var n={};"number"===typeof t.height?n={minLines:1,maxLines:t.height}:"string"===typeof t.height?n={height:t.height}:Array.isArray(t.height)&&2===t.height.length&&(n={minLines:t.height[0],maxLines:t.height[1]});var o=Object(c.a)(Object(c.a)({},L),t.editorProps),r={setOptions:Object(c.a)(Object(c.a)({},K),t.options),editorProps:o},s=Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},M),r),n),t.props);return Object(S.jsx)(O,{editorRef:h,code:f,lang:t.lang,theme:G,shortcuts:t.shortcuts,snippetString:re,commands:H.commands,keybindingString:e,props:s,onChange:function(e){y(e)}})}),[Z,G,re,D]),ae=Object(r.useMemo)((function(){var e=JSON.parse(ne),t=JSON.parse(oe),n=null!==t&&void 0!==t?t:{},o={buttons:null!==e&&void 0!==e?e:[],name:"customButtons"};return Object(S.jsx)(T,{buttonGroup:o,theme:n,themeProp:G,executeAll:function(e){return q(e)}})}),[ne,oe,G]),ie=Object(r.useMemo)((function(){var e=JSON.parse(ee),t=JSON.parse(oe),n=null!==t&&void 0!==t?t:{};return Object(S.jsx)(J,{menu:e,theme:n,themeProp:G,executeAll:function(e){return q(e)}})}),[ee,oe,G]),ce=Object(r.useMemo)((function(){var e=JSON.parse(te),t=JSON.parse(oe),n=null!==t&&void 0!==t?t:{};return Object(S.jsx)(A,{infoRef:v,info:e,theme:n})}),[te,oe]),me=Object(r.useMemo)((function(){return Object(S.jsx)(R,{isDisabled:s,inject:W.globalCSS})}),[W.globalCSS,s]);return Object(S.jsxs)($,{ref:function(e){e?Q.observe(e):Q.disconnect()},style:W.style,className:null!==(t="streamlit_code-editor "+(null===a||void 0===a?void 0:a.base))&&void 0!==t?t:"",$_css:W.css,children:[me,se,ae,ie,ce]})}));i.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(z,{})}),document.getElementById("root"))}},[[501,1,2]]]);
//# sourceMappingURL=main.ce42ebe5.chunk.js.map