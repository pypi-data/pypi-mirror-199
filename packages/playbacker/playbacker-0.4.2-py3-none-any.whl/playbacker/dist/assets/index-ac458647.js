(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();const T={};function Ve(e){T.context=e}const Ae=(e,t)=>e===t,je=Symbol("solid-track"),Z={equals:Ae};let ke=Le;const V=1,ee=2,Ce={owned:null,cleanups:null,context:null,owner:null},oe={};var N=null;let R=null,p=null,k=null,j=null,re=0;function Y(e,t){const n=p,i=N,l=e.length===0,r=l?Ce:{owned:null,cleanups:null,context:null,owner:t===void 0?i:t},o=l?e:()=>e(()=>U(()=>se(r)));N=r,p=null;try{return D(o,!0)}finally{p=n,N=i}}function M(e,t){t=t?Object.assign({},Z,t):Z;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=l=>(typeof l=="function"&&(l=l(n.value)),Te(n,l));return[Ne.bind(n),i]}function he(e,t,n){const i=W(e,t,!0,V);q(i)}function z(e,t,n){const i=W(e,t,!1,V);q(i)}function X(e,t,n){ke=Re;const i=W(e,t,!1,V);i.user=!0,j?j.push(i):q(i)}function te(e,t,n){n=n?Object.assign({},Z,n):Z;const i=W(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,q(i),Ne.bind(i)}function me(e,t,n){let i,l,r;arguments.length===2&&typeof t=="object"||arguments.length===1?(i=!0,l=e,r=t||{}):(i=e,l=t,r=n||{});let o=null,s=oe,f=null,c=!1,a="initialValue"in r,m=typeof i=="function"&&te(i);const u=new Set,[h,g]=(r.storage||M)(r.initialValue),[E,O]=M(void 0),[I,_]=M(void 0,{equals:!1}),[y,w]=M(a?"ready":"unresolved");if(T.context){f=`${T.context.id}${T.context.count++}`;let x;r.ssrLoadFrom==="initial"?s=r.initialValue:T.load&&(x=T.load(f))&&(s=x[0])}function d(x,$,S,L){return o===x&&(o=null,a=!0,(x===s||$===s)&&r.onHydrated&&queueMicrotask(()=>r.onHydrated(L,{value:$})),s=oe,v($,S)),$}function v(x,$){D(()=>{$===void 0&&g(()=>x),w($!==void 0?"errored":"ready"),O($);for(const S of u.keys())S.decrement();u.clear()},!1)}function A(){const x=He,$=h(),S=E();if(S!==void 0&&!o)throw S;return p&&!p.user&&x&&he(()=>{I(),o&&(x.resolved||u.has(x)||(x.increment(),u.add(x)))}),$}function H(x=!0){if(x!==!1&&c)return;c=!1;const $=m?m():i;if($==null||$===!1){d(o,U(h));return}const S=s!==oe?s:U(()=>l($,{value:h(),refetching:x}));return typeof S!="object"||!(S&&"then"in S)?(d(o,S,void 0,$),S):(o=S,c=!0,queueMicrotask(()=>c=!1),D(()=>{w(a?"refreshing":"pending"),_()},!1),S.then(L=>d(S,L,void 0,$),L=>d(S,void 0,Oe(L),$)))}return Object.defineProperties(A,{state:{get:()=>y()},error:{get:()=>E()},loading:{get(){const x=y();return x==="pending"||x==="refreshing"}},latest:{get(){if(!a)return A();const x=E();if(x&&!o)throw x;return h()}}}),m?he(()=>H(!1)):H(!1),[A,{refetch:H,mutate:g}]}function ye(e,t=Ae,n){const i=new Map,l=W(r=>{const o=e();for(const[s,f]of i.entries())if(t(s,o)!==t(s,r))for(const c of f.values())c.state=V,c.pure?k.push(c):j.push(c);return o},void 0,!0,V);return q(l),r=>{const o=p;if(o){let s;(s=i.get(r))?s.add(o):i.set(r,s=new Set([o])),Q(()=>{s.delete(o),!s.size&&i.delete(r)})}return t(r,l.value)}}function Ue(e){return D(e,!1)}function U(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function ve(e,t,n){const i=Array.isArray(e);let l,r=n&&n.defer;return o=>{let s;if(i){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(r){r=!1;return}const f=U(()=>t(s,l,o));return l=s,f}}function ue(e){X(()=>U(e))}function Q(e){return N===null||(N.cleanups===null?N.cleanups=[e]:N.cleanups.push(e)),e}let He;function Ne(){const e=R;if(this.sources&&(this.state||e))if(this.state===V||e)q(this);else{const t=k;k=null,D(()=>ie(this),!1),k=t}if(p){const t=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(t)):(p.sources=[this],p.sourceSlots=[t]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function Te(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&D(()=>{for(let l=0;l<e.observers.length;l+=1){const r=e.observers[l],o=R&&R.running;o&&R.disposed.has(r),(o&&!r.tState||!o&&!r.state)&&(r.pure?k.push(r):j.push(r),r.observers&&Pe(r)),o||(r.state=V)}if(k.length>1e6)throw k=[],new Error},!1)),t}function q(e){if(!e.fn)return;se(e);const t=N,n=p,i=re;p=N=e,De(e,e.value,i),p=n,N=t}function De(e,t,n){let i;try{i=e.fn(t)}catch(l){return e.pure&&(e.state=V,e.owned&&e.owned.forEach(se),e.owned=null),e.updatedAt=n+1,Ie(l)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Te(e,i):e.value=i,e.updatedAt=n)}function W(e,t,n,i=V,l){const r={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:N,context:null,pure:n};return N===null||N!==Ce&&(N.owned?N.owned.push(r):N.owned=[r]),r}function ne(e){const t=R;if(e.state===0||t)return;if(e.state===ee||t)return ie(e);if(e.suspense&&U(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<re);)(e.state||t)&&n.push(e);for(let i=n.length-1;i>=0;i--)if(e=n[i],e.state===V||t)q(e);else if(e.state===ee||t){const l=k;k=null,D(()=>ie(e,n[0]),!1),k=l}}function D(e,t){if(k)return e();let n=!1;t||(k=[]),j?n=!0:j=[],re++;try{const i=e();return Be(n),i}catch(i){n||(j=null),k=null,Ie(i)}}function Be(e){if(k&&(Le(k),k=null),e)return;const t=j;j=null,t.length&&D(()=>ke(t),!1)}function Le(e){for(let t=0;t<e.length;t++)ne(e[t])}function Re(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:ne(i)}for(T.context&&Ve(),t=0;t<n;t++)ne(e[t])}function ie(e,t){const n=R;e.state=0;for(let i=0;i<e.sources.length;i+=1){const l=e.sources[i];l.sources&&(l.state===V||n?l!==t&&(!l.updatedAt||l.updatedAt<re)&&ne(l):(l.state===ee||n)&&ie(l,t))}}function Pe(e){const t=R;for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n];(!i.state||t)&&(i.state=ee,i.pure?k.push(i):j.push(i),i.observers&&Pe(i))}}function se(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const r=l.pop(),o=n.observerSlots.pop();i<l.length&&(r.sourceSlots[o]=i,l[i]=r,n.observerSlots[i]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)se(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Oe(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Ie(e){throw e=Oe(e),e}const qe=Symbol("fallback");function we(e){for(let t=0;t<e.length;t++)e[t]()}function Ge(e,t,n={}){let i=[],l=[],r=[],o=0,s=t.length>1?[]:null;return Q(()=>we(r)),()=>{let f=e()||[],c,a;return f[je],U(()=>{let u=f.length,h,g,E,O,I,_,y,w,d;if(u===0)o!==0&&(we(r),r=[],i=[],l=[],o=0,s&&(s=[])),n.fallback&&(i=[qe],l[0]=Y(v=>(r[0]=v,n.fallback())),o=1);else if(o===0){for(l=new Array(u),a=0;a<u;a++)i[a]=f[a],l[a]=Y(m);o=u}else{for(E=new Array(u),O=new Array(u),s&&(I=new Array(u)),_=0,y=Math.min(o,u);_<y&&i[_]===f[_];_++);for(y=o-1,w=u-1;y>=_&&w>=_&&i[y]===f[w];y--,w--)E[w]=l[y],O[w]=r[y],s&&(I[w]=s[y]);for(h=new Map,g=new Array(w+1),a=w;a>=_;a--)d=f[a],c=h.get(d),g[a]=c===void 0?-1:c,h.set(d,a);for(c=_;c<=y;c++)d=i[c],a=h.get(d),a!==void 0&&a!==-1?(E[a]=l[c],O[a]=r[c],s&&(I[a]=s[c]),a=g[a],h.set(d,a)):r[c]();for(a=_;a<u;a++)a in E?(l[a]=E[a],r[a]=O[a],s&&(s[a]=I[a],s[a](a))):l[a]=Y(m);l=l.slice(0,o=u),i=f.slice(0)}return l});function m(u){if(r[a]=u,s){const[h,g]=M(a);return s[a]=g,t(f[a],h)}return t(f[a])}}}function C(e,t){return U(()=>e(t||{}))}function be(e){const t="fallback"in e&&{fallback:()=>e.fallback};return te(Ge(()=>e.each,e.children,t||void 0))}function Ke(e){let t=!1;const n=e.keyed,i=te(()=>e.when,void 0,{equals:(l,r)=>t?l===r:!l==!r});return te(()=>{const l=i();if(l){const r=e.children,o=typeof r=="function"&&r.length>0;return t=n||o,o?U(()=>r(l)):r}return e.fallback},void 0,void 0)}function ze(e,t,n){let i=n.length,l=t.length,r=i,o=0,s=0,f=t[l-1].nextSibling,c=null;for(;o<l||s<r;){if(t[o]===n[s]){o++,s++;continue}for(;t[l-1]===n[r-1];)l--,r--;if(l===o){const a=r<i?s?n[s-1].nextSibling:n[r-s]:f;for(;s<r;)e.insertBefore(n[s++],a)}else if(r===s)for(;o<l;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[s]===t[l-1]){const a=t[--l].nextSibling;e.insertBefore(n[s++],t[o++].nextSibling),e.insertBefore(n[--r],a),t[l]=n[r]}else{if(!c){c=new Map;let m=s;for(;m<r;)c.set(n[m],m++)}const a=c.get(t[o]);if(a!=null)if(s<a&&a<r){let m=o,u=1,h;for(;++m<l&&m<r&&!((h=c.get(t[m]))==null||h!==a+u);)u++;if(u>a-s){const g=t[o];for(;s<a;)e.insertBefore(n[s++],g)}else e.replaceChild(n[s++],t[o++])}else o++;else t[o++].remove()}}}const xe="_$DX_DELEGATE";function Je(e,t,n,i={}){let l;return Y(r=>{l=r,t===document?e():b(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{l(),t.textContent=""}}function B(e,t,n){const i=document.createElement("template");if(i.innerHTML=e,t&&i.innerHTML.split("<").length-1!==t)throw`The browser resolved template HTML does not match JSX input:
${i.innerHTML}

${e}. Is your HTML properly formed?`;let l=i.content.firstChild;return n&&(l=l.firstChild),l}function Fe(e,t=window.document){const n=t[xe]||(t[xe]=new Set);for(let i=0,l=e.length;i<l;i++){const r=e[i];n.has(r)||(n.add(r),t.addEventListener(r,Xe))}}function K(e,t){t==null?e.removeAttribute("class"):e.className=t}function b(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return le(e,t,i,n);z(l=>le(e,t(),l,n),i)}function Xe(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),T.registry&&!T.done&&(T.done=_$HY.done=!0);n;){const i=n[t];if(i&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?i.call(n,l,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function le(e,t,n,i,l){for(T.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=i!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(T.context)return n;if(r==="number"&&(t=t.toString()),o){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=G(e,n,i,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(T.context)return n;n=G(e,n,i)}else{if(r==="function")return z(()=>{let s=t();for(;typeof s=="function";)s=s();n=le(e,s,n,i)}),()=>n;if(Array.isArray(t)){const s=[],f=n&&Array.isArray(n);if(ce(s,t,n,l))return z(()=>n=le(e,s,n,i,!0)),()=>n;if(T.context){if(!s.length)return n;for(let c=0;c<s.length;c++)if(s[c].parentNode)return n=s}if(s.length===0){if(n=G(e,n,i),o)return n}else f?n.length===0?pe(e,s,i):ze(e,n,s):(n&&G(e),pe(e,s));n=s}else if(t instanceof Node){if(T.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=G(e,n,i,t);G(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ce(e,t,n,i){let l=!1;for(let r=0,o=t.length;r<o;r++){let s=t[r],f=n&&n[r];if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))l=ce(e,s,f)||l;else if(typeof s=="function")if(i){for(;typeof s=="function";)s=s();l=ce(e,Array.isArray(s)?s:[s],Array.isArray(f)?f:[f])||l}else e.push(s),l=!0;else{const c=String(s);c==="<!>"?f&&f.nodeType===8&&e.push(f):f&&f.nodeType===3&&f.data===c?e.push(f):e.push(document.createTextNode(c))}}return l}function pe(e,t,n=null){for(let i=0,l=t.length;i<l;i++)e.insertBefore(t[i],n)}function G(e,t,n,i){if(n===void 0)return e.textContent="";const l=i||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const s=t[o];if(l!==s){const f=s.parentNode===e;!r&&!o?f?e.replaceChild(l,s):e.insertBefore(l,n):f&&s.remove()}else r=!0}}else e.insertBefore(l,n);return[l]}var Qe=["Shift","Meta","Alt","Control"],We=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function ae(e,t){return typeof e.getModifierState=="function"&&e.getModifierState(t)}function Ye(e){return e.trim().split(" ").map(function(t){var n=t.split(/\b\+/),i=n.pop();return[n=n.map(function(l){return l==="$mod"?We:l}),i]})}function Ze(e,t){var n;t===void 0&&(t={});var i=(n=t.timeout)!=null?n:1e3,l=Object.keys(e).map(function(s){return[Ye(s),e[s]]}),r=new Map,o=null;return function(s){s instanceof KeyboardEvent&&(l.forEach(function(f){var c=f[0],a=f[1],m=r.get(c)||c;(function(u,h){return!(h[1].toUpperCase()!==u.key.toUpperCase()&&h[1]!==u.code||h[0].find(function(g){return!ae(u,g)})||Qe.find(function(g){return!h[0].includes(g)&&h[1]!==g&&ae(u,g)}))})(s,m[0])?m.length>1?r.set(c,m.slice(1)):(r.delete(c),a(s)):ae(s,s.key)||r.delete(c)}),o&&clearTimeout(o),o=setTimeout(r.clear.bind(r),i))}}const Me=e=>`http://127.0.0.1:8000${e}`;function et(){const e=async(t,n)=>(await fetch(Me(t),{method:"POST",...n})).json();return{get_setlists:()=>e("/get_setlists"),get_setlist:t=>e(`/get_setlist?${new URLSearchParams({name:t})}`),toggle_playing:t=>e("/toggle_playing",{headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),toggle_guide_enabled:()=>e("/toggle_guide_enabled"),prepare_for_switch:()=>e("/prepare_for_switch"),reset:()=>e("/reset")}}function tt(e,t,n){if(T.context){const[i,l]=M(e,n);return ue(()=>l(()=>t())),[i,l]}return M(t(),n)}var nt=tt;function $e(e,t,n){const[i,l]=M(),r=n!=null&&n.api?Array.isArray(n.api)?n.api:[n.api]:[globalThis.localStorage].filter(Boolean),o=n!=null&&n.prefix?`${n.prefix}.`:"",s=()=>r.reduce((m,u)=>{if(m!==null||!u)return m;let h=null;try{h=u.getItem(`${o}${e}`)}catch(g){if(l(g instanceof Error?g:new Error(`Error reading ${o}${e} from ${u.name}`)),n!=null&&n.throw)throw g}return h!==null&&(n!=null&&n.deserializer)?n.deserializer(h+"",e,n.options):h},null),[f,c]=nt(t,()=>s()??t,n);X(()=>{const m=f(),u=n!=null&&n.serializer?n.serializer(m,e,n.options):m+"",h=`${o}${e}`;try{m===null?r.forEach(g=>g.getItem(h)!==null&&g.removeItem(h)):r.forEach(g=>g.getItem(h)!==u&&g.setItem(h,u,n==null?void 0:n.options))}catch(g){if(l(g instanceof Error?g:new Error(`Error ${m===null?"removing":"writing"} value`)),n!=null&&n.throw)throw g}});const a=()=>{const m=s();c(m)};return(n==null?void 0:n.sync)!==!1&&ue(()=>{const m=u=>{let h=!1;try{r.forEach(g=>{g!==u.storageArea&&u.key&&u.newValue!==g.getItem(u.key)&&(u.newValue?g.setItem(u.key,u.newValue):g.removeItem(u.key),h=!0)})}catch(g){if(l(g instanceof Error?g:new Error("Error synching api after event")),n!=null&&n.throw)throw g}h&&a()};"addEventListener"in globalThis?(globalThis.addEventListener("storage",m),Q(()=>globalThis.removeEventListener("storage",m))):(r.forEach(u=>{var h;return(h=u.addEventListener)==null?void 0:h.call(u,"storage",m)}),Q(()=>r.forEach(u=>{var h;return(h=u.removeEventListener)==null?void 0:h.call(u,"storage",m)})))}),[Object.assign(f,{error:i}),c,a]}var it=e=>(typeof e.clear=="function"||(e.clear=()=>{let t;for(;t=e.key(0);)e.removeItem(t)}),e),_e=e=>{if(!e)return"";let t="";for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n];t+=i instanceof Date?`; ${n}=${i.toUTCString()}`:typeof i=="boolean"?`; ${n}`:`; ${n}=${i}`}return t},P=it({_cookies:[globalThis.document,"cookie"],getItem:e=>{var t;return((t=P._cookies[0][P._cookies[1]].match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))==null?void 0:t.pop())??null},setItem:(e,t,n)=>{const i=P.getItem(e);P._cookies[0][P._cookies[1]]=`${e}=${t}${_e(n)}`;const l=Object.assign(new Event("storage"),{key:e,oldValue:i,newValue:t,url:globalThis.document.URL,storageArea:P});window.dispatchEvent(l)},removeItem:e=>{P._cookies[0][P._cookies[1]]=`${e}=deleted${_e({expires:new Date(0)})}`},key:e=>{let t=null,n=0;return P._cookies[0][P._cookies[1]].replace(/(?:^|;)\s*(.+?)\s*=\s*[^;]+/g,(i,l)=>(!t&&l&&n++===e&&(t=l),"")),t},get length(){let e=0;return P._cookies[0][P._cookies[1]].replace(/(?:^|;)\s*.+?\s*=\s*[^;]+/g,t=>(e+=t?1:0,"")),e}});function lt(e,t){if(!t)return;const n=e.indexOf(t);return e.at(n-1)}function rt(e,t){if(!t)return e[0];const n=e.indexOf(t);return e.at(n+1)||e[0]}function st(e){const[t,{refetch:n}]=me(e.get_setlists);function i(d,v){return m()&&d&&v&&d!==v?confirm("Change current setlist?"):!0}const[l,r]=$e("setlistName",null,{equals:(d,v)=>!i(d,v)}),[o,{refetch:s}]=me(l,e.get_setlist);X(ve(o,d=>{const v=f();d&&d.songs&&(d.songs.find(H=>H.name==(v==null?void 0:v.name))||c(d.songs[0]))}));const[f,c]=$e("song",null,{serializer:d=>{try{return JSON.stringify(d)}catch{return null}},deserializer:d=>{try{return JSON.parse(d)}catch{return null}}});X(ve(f,async()=>a(await e.prepare_for_switch()),{defer:!1}));function a(d){Ue(()=>{u(d.playing),E(d.guide_enabled)})}const[m,u]=M(!1);async function h(){const d=f();d&&a(await e.toggle_playing(d.tempo))}const[g,E]=M(!0),O=async()=>a(await e.toggle_guide_enabled()),I=async()=>a(await e.reset());let _;X(()=>{const d=l();_&&_.close(),_=new EventSource(Me(`/watch?current_setlist=${d}`)),_.addEventListener("message",v=>{v.data=="current_setlist"?s():v.data=="setlists"&&n()},!1)});function y(){var v;const d=(v=o())==null?void 0:v.songs;if(d){const A=lt(d,f());A&&c(A)}}function w(){var v;const d=(v=o())==null?void 0:v.songs;d&&c(rt(d,f()))}return{setlists:t,setlistName:l,setSetlistName:r,setlist:o,song:f,setSong:c,togglePlaying:h,playing:m,toggleGuide:O,guideEnabled:g,resetPlayback:I,previousSong:y,nextSong:w}}const ot=B('<div class="grid h-full place-content-center text-gray-500"></div>',2),at=B('<div class="h-15 flex w-40 basis-1/4 flex-col place-items-center items-center rounded-lg bg-gray-100 p-3 text-center text-sm"><span class="text-2xl font-semibold"></span><span class=" text-xs font-semibold uppercase"></span></div>',6),ct=B("<div><span><span></span></span><span></span></div>",8),ut=B('<div class="App grid h-screen" style="grid-template-columns: 1fr 2fr 4fr;"><ul class="overflow-y-scroll px-5"></ul><div class="overflow-y-scroll ring-1 ring-black/5"></div><div class="flex flex-col overflow-hidden"></div></div>',8),ft=B("<li></li>",2),dt=B('<div><div><div></div><div class="text-sm"></div></div><div><div class="px-3"></div><div class="px-3"></div><div class="px-3"></div></div></div>',16),gt=B('<div class="m-20 flex flex-1 flex-col"><div class="text-8xl font-bold"></div><div class="my-2 text-6xl"></div><div class="my-6 flex flex-wrap gap-2"></div></div>',8),ht=B('<div class="mx-20 mb-10 mt-2 flex flex-col"><hr class="w-full p-2"><div class="flex flex-wrap gap-2"></div></div>',5);function Se(e){return(()=>{const t=ot.cloneNode(!0);return b(t,()=>e.text),t})()}function J(e){return(()=>{const t=at.cloneNode(!0),n=t.firstChild,i=n.nextSibling;return b(n,()=>e.param),b(i,()=>e.name),t})()}function Ee(e,t){const n=Ze(t);ue(()=>window.addEventListener(e,n)),Q(()=>window.removeEventListener(e,n))}function F(e){const[t,n]=M(!1);return Ee("keydown",Object.fromEntries(e.keys.map(i=>[i,l=>{e.action(l),n(!0)}]))),Ee("keyup",Object.fromEntries(e.keys.map(i=>[i,()=>n(!1)]))),(()=>{const i=ct.cloneNode(!0),l=i.firstChild,r=l.firstChild,o=l.nextSibling;return b(r,()=>e.prettyValue),b(o,()=>e.name),z(s=>{const f=`w-max space-x-2 rounded-lg p-2 font-mono text-sm ${t()?"bg-gray-300":"bg-gray-100"}`,c=`rounded-lg ${t()?"bg-gray-300":"bg-gray-200"} p-1 text-sm`;return f!==s._v$&&K(i,s._v$=f),c!==s._v$2&&K(l,s._v$2=c),s},{_v$:void 0,_v$2:void 0}),i})()}function mt(){const{setlists:e,setlistName:t,setSetlistName:n,setlist:i,song:l,setSong:r,togglePlaying:o,playing:s,toggleGuide:f,guideEnabled:c,resetPlayback:a,previousSong:m,nextSong:u}=st(et()),h=ye(t),g=ye(()=>{var E;return(E=l())==null?void 0:E.name});return(()=>{const E=ut.cloneNode(!0),O=E.firstChild,I=O.nextSibling,_=I.nextSibling;return b(O,C(be,{get each(){return e()},children:y=>(()=>{const w=ft.cloneNode(!0);return w.$$click=()=>n(y),b(w,y),z(()=>K(w,`-ml-[2px] block break-after-left border-l-2 border-gray-100 p-2 pl-4 first:mt-7 last:mb-7 hover:transition-all ${h(y)?"border-yellow-600 text-yellow-600":"text-gray-500 hover:border-black hover:text-black"}`)),w})()})),b(I,C(be,{get each(){var y;return(y=i())==null?void 0:y.songs},get fallback(){return C(Se,{text:"Choose a setlist"})},children:y=>(()=>{const w=dt.cloneNode(!0),d=w.firstChild,v=d.firstChild,A=v.nextSibling,H=d.nextSibling,x=H.firstChild,$=x.nextSibling,S=$.nextSibling;return w.$$click=()=>r(y),b(v,()=>y.name),b(A,()=>y.artist),b(x,()=>y.tempo.bpm),b($,()=>y.tempo.time_signature),b(S,()=>y.tempo.duration),z(L=>{const fe=`group flex border border-gray-100 first:mt-7 last:mb-7 hover:bg-gray-50 ${g(y.name)?"bg-gray-50":""}`,de=`flex-grow p-4 pl-8 ${g(y.name)?"text-yellow-700":"text-gray-500 hover:text-black"}`,ge=`invisible grid grid-cols-3 place-items-center divide-x whitespace-nowrap pr-6 text-sm group-hover:visible ${g(y.name)?"divide-yellow-700 text-yellow-700":"divide-gray-500 text-gray-500"}`;return fe!==L._v$3&&K(w,L._v$3=fe),de!==L._v$4&&K(d,L._v$4=de),ge!==L._v$5&&K(H,L._v$5=ge),L},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),w})()})),b(_,C(Ke,{get when(){return l()},get fallback(){return C(Se,{text:"Choose a song"})},keyed:!0,children:y=>[(()=>{const w=gt.cloneNode(!0),d=w.firstChild,v=d.nextSibling,A=v.nextSibling;return b(d,()=>y.name),b(v,()=>y.artist),b(A,C(J,{name:"Tempo",get param(){return`${y.tempo.bpm}`}}),null),b(A,C(J,{name:"Time Signature",get param(){return y.tempo.time_signature}}),null),b(A,C(J,{name:"Duration",get param(){return y.tempo.duration}}),null),b(A,C(J,{name:"Status",get param(){return`${s()?"Playing":"Paused"}`}}),null),b(A,C(J,{name:"Guide",get param(){return`${c()?"Enabled":"Disabled"}`}}),null),w})(),(()=>{const w=ht.cloneNode(!0),d=w.firstChild,v=d.nextSibling;return b(v,C(F,{name:"Play/Pause",prettyValue:"Space",keys:["Space"],action:async A=>{A.preventDefault(),await o()}}),null),b(v,C(F,{name:"Reset",prettyValue:"R",keys:["r","к"],action:a}),null),b(v,C(F,{name:"Toggle Guide",prettyValue:"G",keys:["g","п"],action:f}),null),b(v,C(F,{name:"Previous Song",prettyValue:"←",keys:["ArrowLeft"],action:m}),null),b(v,C(F,{name:"Next Song",prettyValue:"→",keys:["ArrowRight"],action:u}),null),w})()]})),E})()}Fe(["click"]);addEventListener("error",e=>alert(e.error));Je(()=>C(mt,{}),document.getElementById("root"));
