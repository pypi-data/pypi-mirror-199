[build-system]
requires = ["setuptools >= 67.2", "setuptools-scm[toml] >= 7.1", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "provision-ai"
authors = [{name = "Karol J. Piczak", email = "karol@piczak.com"}]
description = "AI experiment provisioner"
readme = "README.rst"
requires-python = ">= 3.10"
keywords = ["neural networks", "experiment", "template", "provisioning"]
license = {text = "MIT"}
classifiers = [
    "Programming Language :: Python :: 3.10",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Development Status :: 3 - Alpha",
    "Typing :: Typed",
]
dependencies = [
    "coolname",
    "copier >= 7.0",
    "GitPython",
    "hydra-core >= 1.3.0",
    "lightning >= 2.0",
    # "lightning-bolts >= 0.6",
    "lovely_tensors",
    "pip >= 21.3",
    "pytest",
    "python-dotenv",
    "rich",
    "setproctitle",
    "torch >= 2.0",
    "torch_tb_profiler >= 0.4",
    "torchaudio >= 2.0",
    "torchinfo >= 1.7",
    "torchmetrics >= 0.11",
    "torchstat",
    "torchsummary",
    "torchvision >=0.15.1",
    "tqdm",
    "typer",
    "wandb >= 0.14",
]
dynamic = ["version"]

[project.optional-dependencies]
dev = [
    "black[jupyter]",
    "build",
    "flake8-annotations-complexity",
    "flake8-cognitive-complexity",
    "flake8-docstrings",
    "flake8-pyproject",
    "flake8-simplify",
    "flake8",
    "isort[colors]",
    "mypy >= 1.0",
    "pydocstyle",
    "pylint",
    "pytest",
    "setuptools >= 67.2",
    "setuptools_scm[toml] >= 7.1",
    "wheel",
]

[project.urls]
Homepage = "https://github.com/provision-ai/provision"
"Bug Tracker" = "https://github.com/provision-ai/provision/issues"

[project.scripts]
provision = "provision.cli.main:app"

[tool.setuptools]
platforms = ["any"]

[tool.setuptools_scm]
version_scheme = "calver-by-date"
local_scheme = "no-local-version"

[tool.black]
line-length = 119
target-version = ["py310"]

[tool.flake8]
exclude = ".venv,.git,__pycache__,venv,.vscode"
ignore = "E203,W503,SIM106,D,CC,TAE,SIM903"
per-file-ignores = "__init__.py:F401"
max-line-length = "119"
max-cognitive-complexity = "10"

[tool.isort]
profile = "black"
skip_glob = ['.vscode/*']
src_paths = ["src/provision"]
known_third_party = ["lightning"]

[tool.mypy]
python_version = "3.10"
ignore_missing_imports = "True"

[tool.pyright]
exclude = ['.vscode/*']

[tool.pytest.ini_options]
testpaths = "tests"
pythonpath = "."
addopts = [
    "--import-mode=importlib",
]


