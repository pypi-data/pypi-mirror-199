<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developer Documentation &mdash; FeatMF 0.1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/design-tabs.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="References" href="api/references.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            FeatMF
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api/index.html">FeatMF API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#packaging">Packaging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#versioning">Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pypi">PyPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conda">Conda</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sphinx">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Indices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FeatMF</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Developer Documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/developer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developer-documentation">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">Developer Documentation</a><a class="headerlink" href="#developer-documentation" title="Permalink to this heading"></a></h1>
<p>My personal docs for things to do for this project. Currently <strong>not</strong> accepting contributions for this personal project.</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#developer-documentation" id="id1">Developer Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#packaging" id="id2">Packaging</a></p>
<ul>
<li><p><a class="reference internal" href="#versioning" id="id3">Versioning</a></p></li>
<li><p><a class="reference internal" href="#pypi" id="id4">PyPI</a></p></li>
<li><p><a class="reference internal" href="#conda" id="id5">Conda</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#sphinx" id="id6">Sphinx</a></p></li>
<li><p><a class="reference internal" href="#references" id="id7">References</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="packaging">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Packaging</a><a class="headerlink" href="#packaging" title="Permalink to this heading"></a></h2>
<p>Run all packaging and development commands from the repository’s root folder.</p>
<section id="versioning">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Versioning</a><a class="headerlink" href="#versioning" title="Permalink to this heading"></a></h3>
<p>This repository follows <a class="reference external" href="https://semver.org/">Semantic Versioning 2.0.0</a>. When creating new releases, ensure that the version number is updated in the following places</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">meta.yaml</span></code>: For conda builds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/featmf/__about__.py</span></code>: For the python package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/conf.py</span></code>: For the documentation</p></li>
</ul>
<p>The package dependencies have to be updated in the following places</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setup_conda.sh</span></code>: For developers using conda</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meta.yaml</span></code>: For conda builds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/requirements.txt</span></code>: For building the docs (sphinx).</p></li>
</ul>
</section>
<section id="pypi">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">PyPI</a><a class="headerlink" href="#pypi" title="Permalink to this heading"></a></h3>
<p>Install the required packages for building the wheels. You need to do this only once.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>hatch<span class="w"> </span>twine
</pre></div>
</div>
<p>Ensure that the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file is up to date. Build and install the project using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Manual build</span>
python<span class="w"> </span>-m<span class="w"> </span>build
<span class="c1"># Build using hatch</span>
hatch<span class="w"> </span>build
<span class="c1"># Install (and uninstall) the wheel directly</span>
pip<span class="w"> </span>install<span class="w"> </span>./dist/featmf-0.1.0-py3-none-any.whl
pip<span class="w"> </span>uninstall<span class="w"> </span>featmf
</pre></div>
</div>
<p>Upload the package to PyPI using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Upload to PyPI</span>
python<span class="w"> </span>-m<span class="w"> </span>twine<span class="w"> </span>upload<span class="w"> </span>--verbose<span class="w"> </span>./dist/*
</pre></div>
</div>
</section>
<section id="conda">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Conda</a><a class="headerlink" href="#conda" title="Permalink to this heading"></a></h3>
<p>Install the required build tools. You need to do this only once.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>conda-build<span class="w"> </span>anaconda-client
</pre></div>
</div>
<p>When developing, it’s better to not build, but just add folder to path. This way, modifications you make are reflected (live) without re-building package.
You can manage the <em>developer</em> install (add to path and test the package) using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install (add the folder to conda.pth)</span>
conda<span class="w"> </span>develop<span class="w"> </span>./src
<span class="c1"># Verify if this worked (path should be present)</span>
cat<span class="w"> </span><span class="nv">$CONDA_PREFIX</span>/lib/python3.9/site-packages/conda.pth
<span class="c1"># Remove this (after testing is over)</span>
conda<span class="w"> </span>develop<span class="w"> </span>-u<span class="w"> </span>./src
</pre></div>
</div>
<p>Build and install the package (locally) using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set channels (arguments to the build call)</span>
<span class="nv">chlist</span><span class="o">=</span><span class="s2">&quot;-c conda-forge -c pytorch -c nvidia ...&quot;</span>
<span class="c1"># Build (default output in: ~/anaconda3/conda-bld)</span>
conda<span class="w"> </span>build<span class="w"> </span>.<span class="w"> </span><span class="nv">$chlist</span>
<span class="c1"># See the path (verify the file)</span>
conda<span class="w"> </span>build<span class="w"> </span>--output<span class="w"> </span>.<span class="w"> </span><span class="nv">$chlist</span>
<span class="c1"># Install</span>
conda<span class="w"> </span>install<span class="w"> </span>--use-local<span class="w"> </span>featmf
<span class="c1"># Clear builds (if you want to rebuild later)</span>
conda<span class="w"> </span>build<span class="w"> </span>purge
</pre></div>
</div>
<p>Once the package is build, upload the package to Anaconda (personal user <a class="reference external" href="https://anaconda.org/avneesh-mishra/repo">avneesh-mishra</a>)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Login (if not done already)</span>
anaconda<span class="w"> </span>login<span class="w"> </span>-h
anaconda<span class="w"> </span>login<span class="w"> </span>--hostname<span class="w"> </span>HOSTNAME<span class="w"> </span>--username<span class="w"> </span>ANACONDA_USERNAME<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--password<span class="w"> </span>ANACONDA_PASSWORD
<span class="c1"># Upload the tar ball as a package (see --output of build for path)</span>
anaconda<span class="w"> </span>upload<span class="w"> </span><span class="nv">$HOME</span>/anaconda3/conda-bld/linux-64/featmf-0.1.0-py39_0.tar.bz2
<span class="c1"># Verify the package by local install</span>
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>avneesh-mishra<span class="w"> </span>featmf
</pre></div>
</div>
</section>
</section>
<section id="sphinx">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Sphinx</a><a class="headerlink" href="#sphinx" title="Permalink to this heading"></a></h2>
<p>The following dependencies were used to create the docs (one time install)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>sphinx<span class="w"> </span>sphinx-rtd-theme<span class="w"> </span>sphinx-copybutton
pip<span class="w"> </span>install<span class="w"> </span>sphinx-reload
sphinx-quickstart<span class="w"> </span>docs
</pre></div>
</div>
<p>The above commands were installed using <code class="docutils literal notranslate"><span class="pre">conda</span></code>, but the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> (in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> folder) is populated using <code class="docutils literal notranslate"><span class="pre">pip</span></code> like entries in parallel.
If you get an error saying that a package was not found, populate it with an appropriate entry and try again. This is to install only sphinx packages in the build pipeline for the docs (don’t add everything here).</p>
<p>Build the docs using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Traditional</span>
<span class="nb">cd</span><span class="w"> </span>docs
make<span class="w"> </span>html
<span class="c1"># Live reload</span>
sphinx-reload<span class="w"> </span>docs
</pre></div>
</div>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">References</a><a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Sphinx</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/quickstart.html">Quickstart</a></dt><dd><ul>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">Primer</a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference external" href="https://sphinx-design.readthedocs.io/en/latest/dropdowns.html">Sphinx Design</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html">Directives</a> for markups</p></li>
<li><dl class="simple">
<dt>Code Documentation</dt><dd><ul>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html">Autodoc code Documentation</a>: Main extension</p></li>
<li><dl class="simple">
<dt><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html">Domains</a> for referencing</dt><dd><ul>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#info-field-lists">Info fields</a> for declaring the type of function parameters and variables</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/tutorial/describing-code.html">Describing code in Sphinx</a> tutorial</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Packaging</dt><dd><ul>
<li><dl class="simple">
<dt>PyPI</dt><dd><ul>
<li><p><a class="reference external" href="https://packaging.python.org/en/latest/tutorials/packaging-projects/">Getting Started</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/classifiers/">PyPI Classifiers</a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Conda</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/index.html">conda-build</a>: Building packages</dt><dd><ul>
<li><p><a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/resources/build-scripts.html">Defining metadata</a></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/user-guide/tutorials/build-pkgs.html">Building a package from scratch</a></p></li>
<li><dl class="simple">
<dt><a class="reference external" href="https://docs.anaconda.com/anacondaorg/user-guide/getting-started/">Anaconda.org User Guide</a>: Getting started</dt><dd><ul>
<li><p><a class="reference external" href="https://docs.anaconda.com/anacondaorg/user-guide/tasks/work-with-packages/">Working with packages</a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Blog</dt><dd><ul>
<li><p><a class="reference external" href="https://samnicholls.net/2016/06/15/how-to-sphinx-readthedocs/">An idiot’s guide to Python documentation with Sphinx and ReadTheDocs</a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<a class="reference external image-reference" href="https://github.com/TheProjectsGuy"><img alt="https://img.shields.io/badge/Developer-TheProjectsGuy-blue" src="https://img.shields.io/badge/Developer-TheProjectsGuy-blue" /></a>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api/references.html" class="btn btn-neutral float-left" title="References" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Avneesh Mishra.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>