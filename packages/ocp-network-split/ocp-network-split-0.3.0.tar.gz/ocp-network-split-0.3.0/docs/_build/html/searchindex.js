Search.setIndex({docnames:["assumptions","index","modules","ocpnetsplit","overview_latency","overview_netsplit","usage","usage_multicluster"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":4,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,sphinx:56},filenames:["assumptions.rst","index.rst","modules.rst","ocpnetsplit.rst","overview_latency.rst","overview_netsplit.rst","usage.rst","usage_multicluster.rst"],objects:{"ocpnetsplit.machineconfig":[[3,1,1,"","create_file_dict"],[3,1,1,"","create_latency_mc_dict"],[3,1,1,"","create_script_dict"],[3,1,1,"","create_split_mc_dict"],[3,1,1,"","create_systemdunit_dict"],[3,1,1,"","create_unit_dict"],[3,1,1,"","create_zone_mc_dict"],[3,1,1,"","get_new_mc"]],"ocpnetsplit.main":[[3,1,1,"","check_split"],[3,1,1,"","get_networksplit_mc_spec"],[3,1,1,"","get_zone_config"],[3,1,1,"","get_zone_config_fromfile"],[3,1,1,"","main_multisetup"],[3,1,1,"","main_sched"],[3,1,1,"","main_setup"],[3,1,1,"","run_ssh_node"],[3,1,1,"","schedule_split"]],"ocpnetsplit.ocp":[[3,1,1,"","get_all_node_ip_addrs"],[3,1,1,"","list_cluster_nodes"],[3,1,1,"","run_oc"],[3,1,1,"","run_oc_debug_node"]],"ocpnetsplit.zone":[[3,2,1,"","NETWORK_SPLITS"],[3,2,1,"","ZONES"],[3,3,1,"","ZoneConfig"],[3,3,1,"","ZoneLatSpec"]],"ocpnetsplit.zone.ZoneConfig":[[3,4,1,"","add_node"],[3,4,1,"","add_nodes"],[3,4,1,"","get_env_file"],[3,4,1,"","get_nodes"]],"ocpnetsplit.zone.ZoneLatSpec":[[3,4,1,"","get_cli_args"],[3,4,1,"","load_arguments"],[3,4,1,"","load_dict"]],ocpnetsplit:[[3,0,0,"-","machineconfig"],[3,0,0,"-","main"],[3,0,0,"-","ocp"],[3,0,0,"-","zone"]]},objnames:{"0":["py","module","Python module"],"1":["py","function","Python function"],"2":["py","data","Python data"],"3":["py","class","Python class"],"4":["py","method","Python method"]},objtypes:{"0":"py:module","1":"py:function","2":"py:data","3":"py:class","4":"py:method"},terms:{"0":[3,4,5,6,7],"00":[4,5,6,7],"007":4,"01":7,"014":4,"016":4,"017":[],"02":4,"026":4,"028":[],"03":[3,4,5],"035":4,"04":6,"041":4,"052":4,"059":4,"06":5,"060":4,"068":4,"0819":[],"0819b":[],"086":4,"09":[4,6],"0922a":[],"09t16":6,"1":[3,4,5,6,7],"10":[3,4,7],"100":[4,5,6],"1000":4,"100m":[],"103":[4,6],"106":[4,6],"109":4,"10m":4,"11":[3,4,7],"113":7,"115":5,"118":4,"119":[],"11m":4,"12":7,"122":4,"125":4,"127":6,"131":4,"14":[6,7],"140":4,"141":[],"145":[],"14m":[],"15":4,"151":[],"158":6,"159":4,"15m":4,"16":7,"160":[4,6],"161":[],"1614":4,"1614990498":5,"1617976800":6,"1617978600":6,"162":6,"163":6,"16380":5,"166":[],"167":[],"1673895000":7,"168":[],"169":[],"16t19":7,"17":[4,7],"171":4,"172":4,"174":5,"175":5,"176":4,"179":[],"18":[5,7],"180":5,"183":[],"184":[],"187":[],"188":5,"18t18":3,"191":[],"192":5,"195":[],"196":4,"198":[4,5,6],"199":4,"1min":7,"1st":2,"2":[2,4,6,7],"20":[6,7],"200":4,"202":4,"2021":[3,4,5,6],"2022":[],"2023":[4,7],"202301061548":7,"203":7,"2053m":4,"208":5,"20864":4,"20882":4,"209":[],"20917":4,"20918":4,"21":[],"212":[4,6],"213":4,"214":4,"21626":[],"218":4,"219":[],"223":4,"226":[],"22m":3,"23":5,"242":4,"243":4,"25":4,"254":4,"25m":4,"26":6,"26min":6,"27":5,"28":4,"286":4,"292":4,"296":4,"2nd":2,"3":[0,4,6,7],"30":[3,6],"300":4,"3004m":4,"309":[],"31":[4,7],"32":4,"326":4,"33":7,"331":[],"34":7,"347":4,"35":4,"35m":4,"36":6,"377":4,"3min":6,"4":[0,1,4,6,7],"40":4,"412":7,"415":[],"43":4,"45":3,"46m":4,"477":[],"48":6,"49":5,"4h48m":7,"4min":[4,5],"5":[4,5,6,7],"50":[4,6,7],"50m":4,"51":[4,5,6],"510":4,"52":7,"54":4,"56":4,"564":4,"57":7,"59":4,"590":[],"5bec341d2088c2cec8be7b024f9f7a05":7,"5m":4,"6":[4,7],"60":4,"600":3,"64":4,"65":6,"7":4,"703":[],"7d14h":6,"7m":4,"8":7,"84":4,"86":7,"87":4,"8d":6,"8m":5,"94":4,"95":[6,7],"96":4,"97":4,"98":[4,6],"99":[3,4,6,7],"byte":4,"case":[0,3,4,5,7],"catch":3,"class":[3,4],"default":[0,3,4,5],"do":4,"export":[4,5],"function":[1,2,3],"import":7,"int":3,"long":[3,6,7],"new":[0,3,4],"public":[2,3],"return":3,"static":0,"true":[3,7],"try":4,"var":[3,4,7],"while":[0,1,4,5,6,7],A:[0,4,5,6],And:5,As:4,But:4,For:[0,3,4,5,7],If:[0,4,5,6,7],In:[0,1,4,5,6,7],It:[1,4,7],No:0,One:[3,4,5],Such:[],That:[],The:[0,4,5,6,7],Then:6,There:[0,4,6],To:[2,4,5,7],_:[],_zone_config_exampl:[],a6b09525d752c5c8771cc0e423acb313:7,ab:[3,4,5,6,7],abil:4,abl:[0,7],about:[1,5,7],abov:[4,5,7],absolut:3,ac:[3,4,5],access:[0,7],achiev:[5,7],across:7,activ:[3,4,5,6,7],actual:[0,6,7],ad:[4,7],add:[3,4,7],add_nod:3,addit:[0,1],address:[0,3,4,6],addressess:3,admin:7,advanc:[5,6,7],advantag:[4,5],affect:1,after:[5,6,7],ag:[6,7],again:[2,7],ago:[4,5,6],aks:[],all:[0,1,2,3,4,5,6,7],allow:[5,6],almost:[3,6],along:6,alreadi:4,also:[3,4,5,6,7],among:[1,4],an:[0,4,5,6,7],ani:[0,4,5,7],anoth:[0,2,6,7],ansibl:[1,7],api:[1,3,4,5],apivers:6,appli:[2,3,4,5,6],applic:7,approach:1,appropri:[],ar:[0,1,3,4,5,6,7],arbit:[3,6,7],architectur:7,area:[],argpars:3,argument:[3,4],artifici:[6,7],ask:7,aspect:7,assign:6,assum:[0,3,4,6,7],assumpt:1,avail:[0,3,5],avg:4,avoid:7,ax:3,b:[3,4,5,6,7],back:[0,2,5],bafe72f:6,band:4,base:[3,5,6,7],basenam:3,bash:[4,5],bc:[3,5],befor:[4,6,7],bellow:6,belong:6,below:4,besid:6,better:[4,5],between:[1,3,4,5,6,7],bin:[4,5],block:[1,5,6],bool:3,boot:[4,6],both:[0,3,4,5,6,7],bx:3,c:[3,4,5,6,7],call:5,can:[0,1,3,4,5,6,7],cannot:4,captur:[],care:7,ceph:[3,4,7],cephadm:7,chain:5,chang:[0,3,4,5,7],chapter:[],check:[3,4,5,6],check_split:3,chose:5,chosen:7,chroni:0,classic:[4,5],classifi:4,cli:0,client:0,cluster:[1,2,3,5],clusteroper:7,cmd_list:3,cmd_out:3,cockpit:7,code:[4,5],com:7,combin:3,command:[0,1,2,3,4,5],commun:5,complet:7,compon:1,comput:[4,5,6,7],condit:[1,7],config:[0,1,3,4,5,6,7],configur:[0,1,2,3,4,5,6],connect:[0,3,4,5,6,7],consist:[3,7],consol:7,constant:3,consum:[4,5],contain:[0,1,2,3,4,5,7],content:[2,3],control:[0,3,4,6,7],core:7,coreo:[0,7],cost:3,could:1,count:[],cpu:[4,5],creat:[0,1,3,4,6,7],create_file_dict:3,create_latency_mc_dict:3,create_script_dict:3,create_split_mc_dict:3,create_systemdunit_dict:3,create_unit_dict:3,create_zone_mc_dict:3,current:[4,5],curretnli:[],custom:1,cut:[6,7],cx:3,d1:3,d2:3,d:[4,5],data:[4,6],datetim:3,dead:4,debug:[3,4,5],defin:[0,1,2,3,6],degrad:7,degradedmachinecount:7,del:4,delai:4,delet:[4,6],demonstr:[4,6,7],deploi:[1,2,3,4,5,6,7],describ:[3,4,7],descript:4,design:6,desir:[2,6,7],detail:[3,5,6,7],detect:[4,5],dev:4,dict:3,dictionari:[2,3,4],differ:[4,6,7],direct:[5,6,7],directli:[3,4,5,7],directori:[3,5],disabl:[4,5],disciplin:4,disrupt:[2,3],doc:[5,7],document:[],doe:[4,5],doesn:[4,7],domain:[0,7],don:[4,5],done:[1,2,5,6],downsid:5,drain:5,driven:7,drop:5,dst:4,dure:[4,5,6,7],each:[0,2,3,4,5,6,7],earli:3,easili:[4,5],effect:[4,6],eg:[3,4,5,6,7],egress:4,either:[1,3],empti:3,emul:4,enabl:[4,6,7],end:[6,7],enforc:4,enp34s0u2u1u2:[],ens192:4,enterpris:7,entri:3,env:[3,4,5,6,7],env_fil:7,enviro:[],environ:[0,1,3,5],epoch:5,equal:4,error:4,etc:[3,4,5],even:[1,6],everi:[0,3,5,6],exampl:[1,3,5,6,7],execstart:[4,5],execstop:4,execut:3,exist:4,exit:[4,5],expect:[4,5],explain:[4,5,7],extern:[1,3],externali:[],extra:[0,4,7],extrem:6,f:[3,6,7],fact:4,fals:[3,7],feb:4,fetch:6,file:[1,2,3,4,5,6,7],file_cont:3,filenam:7,filter:[3,4],finish:7,firewal:[0,1,3,6,7],first:[],fix:3,flow:4,flowid:4,follow:[4,6,7],foobar:7,form:5,format:[],fqdn:[0,3,7],fri:[4,6],from:[2,3,4,5,6,7],full:6,fulli:[0,7],gener:[2,3,4,6,7],get:[3,4,6,7],get_all_node_ip_addr:3,get_cli_arg:3,get_env_fil:3,get_networksplit_mc_spec:[2,3],get_new_mc:3,get_nod:3,get_zone_config:[2,3],get_zone_config_fromfil:3,github:[],gitlab:[],give:6,given:[1,3,4,5,6,7],go:[5,6,7],good:[4,6,7],guid:7,ha:[0,4,5],half:4,handl:4,happen:6,hat:7,have:[0,4,5,6,7],head:[6,7],here:3,high:2,higher:[],home:7,host:[0,4,7],hostnam:3,how:[3,5,6],html:7,http:7,i:[4,7],icmp_seq:4,id_rsa:7,idea:7,identif:3,identifi:[3,7],identityfil:7,ignit:[3,5,6],immedi:6,implement:[1,2,3,4,5],inact:4,includ:[3,4,7],incom:4,increas:[3,5],indend:[],index:1,infra:0,ini:[3,4,7],initi:3,input:[3,5],insert:5,inspect:[4,5,6],instal:[0,3,4,5],instanti:5,instead:[4,7],instruct:7,intend:[0,1,5],interconnect:0,interfac:[3,4,5],intern:[0,3],introduc:[1,4],invalid:3,inventori:7,io:[0,3,6,7],ip:[3,4,6],iprout:0,iptabl:[0,5],ipv4:0,isol:1,issu:5,ist:7,itself:3,j:5,jan:7,join:0,journald:5,just:[6,7],k8:[0,1,3,6],keep:0,kei:[0,3,6,7],kernel:0,kind:6,know:7,kubeadmin:[0,7],kubeconfig:3,kubernet:[0,3,6,7],kwarg:3,l:[4,6],label:[0,3,6],larg:6,last:[6,7],latenc:[1,3],latency_spec:[3,4],later:[0,3,6],latest:[],leaf:4,left:[6,7],len:[3,6,7],let:[6,7],letter:6,level:2,like:[1,3,6],limit:[1,4,6],line:[1,2,3,4,5],linux:[0,3,4,7],list:[2,3,5,6,7],list_cluster_nod:3,live:3,ll:[],load:[3,4,5],load_argu:3,load_dict:3,local:[],log:[0,3,5],login:7,look:6,loss:4,ls:[],machin:[0,4,5,6,7],machineconfig:[1,2,6,7],machineconfig_spec:3,machineconfigdaemon:3,machineconfigpool:[0,3,5,7],machineconfigur:[6,7],machinecount:7,made:5,mai:0,main:[2,4,5],main_multisetup:3,main_sch:3,main_setup:3,make:[3,4,5,7],manag:7,map:6,mar:5,martin:[],master:[0,3,5,6,7],match:4,matter:7,max:4,mbukatov:[],mc:[3,4,7],mc_usag:[],mco:[3,4,5,7],mcp:[3,6],md:[],mdev:4,mdr:[],mean:[4,5,7],member:[0,7],mention:5,metadata:6,milisecond:4,millisecond:[6,7],min:4,minim:7,minut:[3,6,7],mirror:[],mistak:3,mode:[1,2,4,5,7],modul:[0,1,2],moment:7,mon:7,more:0,moreov:[4,5,7],ms:[3,4,6,7],much:7,multi:[1,3,4,5],multiclust:7,multipl:[1,5,6,7],multisetup:[3,4,5,7],mutisetup:7,n:[6,7],name:[0,3,4,5,6,7],name_suffix:3,nativ:7,necessari:[3,4,5,7],need:[1,2,3,4,5,6,7],neither:0,net:[3,6,7],netem:[1,4],netsplit:[5,7],network:[2,3],network_split:[2,3],next:[6,7],nftabl:0,node:[0,1,2,3,4,5,6,7],none:3,normal:[1,6],note:[3,4,6,7],now:[4,7],ntp:0,number:[3,6,7],o:[3,6],object:[3,7],observ:4,obvious:4,oc:[0,3,4,5,6,7],oc_execut:3,oc_out:3,ocp1:7,ocp2:7,ocp:[0,2,4,6,7],ocpnetsplit:[2,6],off:4,omit:[6,7],ommit:6,onc:[2,6],one:[0,1,2,3,4,5,6,7],oneshot:5,onli:[0,1,2,3,5,6],onlin:[],opc:[4,5],openshift:[0,1,4,5,6,7],oper:[4,5,7],optim:4,option:[0,1,2,3,4,5,6,7],origin:[4,5],osd:[4,7],other:[1,4],otherwis:[3,7],our:[5,7],out:[],output:[3,5,6],outsid:[4,5,6],overrid:3,overview:[1,2,4,7],packag:[0,2],packet:4,page:1,parallel:7,paramet:[3,5],parent:4,parser:3,part:[0,4,5,7],particular:[1,4,5,6],pass:[4,6,7],password:7,path:3,per:0,perform:4,perspect:4,pick:2,pid:[4,5],ping:4,pingtest:4,plabyook:7,place:3,plan:5,plane:[6,7],platform:[1,7],playbook:[1,7],pool:[0,5,6,7],possibl:[3,4,7],post:5,prefix:3,preinstal:0,preset:[4,5],previou:[2,7],primari:[],print:6,prio:4,prioriti:3,problem:3,process:[3,4,5,7],produc:3,product:4,project:[1,3],properti:[],protocol:4,provid:[0,1,2,4,6],purpos:[1,4,6,7],py:3,python:[1,3],qdisc:[1,4],qe:[],qualifi:[0,7],queue:[1,4],quick:[2,4,5],r:[],rais:3,reach:7,read:[],readi:6,readymachinecount:7,reason:5,reboot:[4,5,6,7],receiv:[4,5],recommend:7,reconfigur:[],recreat:4,red:7,refer:[1,3,5,6],referenc:2,regener:[],relat:0,reli:4,remain:6,remov:[4,5,6],render:7,report:4,repositori:[],repres:[2,3,6],represent:3,request:[3,4],requir:[0,7],resourc:[4,6],rest:[4,6],restor:[2,5],result:3,reus:7,reveal:4,revert:[4,5],rh:[],rhco:[0,7],rhel:[0,4,5,7],right:[],role:[3,6],root:[4,7],roughli:7,round:[4,6],rtt:[3,4,7],rule:[0,1,5],run:[3,4,5,6,7],run_oc:3,run_oc_debug_nod:3,run_ssh_nod:3,rw:[],s:[0,1,3,4,5,6,7],said:[],same:[4,5,6,7],sat:5,save:7,sch_netem:0,sched:[3,6,7],schedul:[1,2,3,5],schedule_split:[2,3],script:[0,1,2,3,6,7],script_nam:3,search:1,second:3,section:[2,6,7],see:[0,2,3,4,5,6,7],select:[2,5],sep:4,separ:1,servic:[0,4,5,6,7],set:[0,1,3,4],setup:[2,3,4,5,6],sh:[3,4,5],share:[4,6],sheer:[0,7],shell:3,should:3,show:[4,6],shown:6,significantli:3,simpl:[1,3,4],simpli:7,sinc:[4,5],singl:[1,2,5],so:[0,1,4,5,6,7],socket:7,some:[4,5,6],sourc:[],souterr:3,spec:[3,4,6],spec_lat:[],special:6,specif:[1,3,4,5],specifi:[3,4,5,6,7],split:[2,3,4],split_nam:3,ssh:[0,3,5],stabl:3,start:[2,3,4,5,6,7],state:[0,5],statist:4,statu:[3,4,5,6],stderr:3,stdout:3,step:[2,7],still:7,stop:[2,3,4,5,6,7],stoppabl:5,storag:3,str:3,stretch:[5,7],string:3,structur:7,succeed:4,success:[4,5],suffix:3,suggest:[],support:[3,7],sure:[4,5,7],surviv:4,synchron:0,system:[4,5,7],systemctl:[3,4,5,7],systemd:[1,3,6],t:[0,3,4,5,6,7],tabl:5,target:4,target_dir:3,target_dt:3,target_length:3,task:5,tc:[0,4],teardown:[2,4,5],templat:5,test:[1,2,5,7],theori:0,thi:[0,1,2,3,4,5,6,7],through:[4,5,7],thu:0,tiebreak:7,time:[0,3,4,5,6,7],timeout:3,timer:[2,3,5,6,7],timestamp:5,todo:[],tool:[0,1,2,3,4,5],top:1,topolog:[0,3,6],total:[4,7],track:[3,5],trade:4,tradeoff:[],traffic:[0,1,3,4,5,6],translat:3,translate_hostnam:3,transmit:4,trigger:2,trip:[4,6],ttl:4,tue:[4,7],tupl:[3,5],tweak:[1,3],two:4,type:[3,6],u32:4,unam:3,unblock:1,under:[1,6],unfortun:[],unit:[1,2,3,6,7],unit_filenam:3,unix:5,up:[1,4],updat:[1,6,7],updatedmachinecount:7,us:[0,1,2,3,4,5,6,7],usag:[1,2,3,4],use_ssh:3,user:[0,7],usernam:3,usr:[4,5],usual:3,utc:[4,5,6],v1:6,v3:[3,5],v:5,valid:3,valu:[0,3,4,6,7],valueerror:3,variabl:[4,5],vendor:[4,5],verifi:1,version:[3,6],via:[0,1,2,3,5,6,7],visibl:[4,5],wa:[4,6,7],wai:[4,6,7],wait:[2,6,7],warn:7,we:[0,4,5,6,7],web:7,well:[4,5,6],what:[4,5],when:[1,3,4,5,6,7],where:[0,3,4,7],whether:4,which:[0,2,3,4,5,6,7],whole:3,wide:[],within:[3,5],without:[1,3,7],wlp61s0:[],won:0,word:[],work:[1,3,4,5,7],worker:[0,3,5,6,7],wou:[],would:[4,5],x:[3,6],yaml:[2,3,4,6,7],yml:[4,5,7],you:[0,1,3,4,6,7],your:2,zero:[3,4],zone:[0,1,2,4,5],zone_:5,zone_a:[3,4,5,6],zone_b:[3,4,5,6],zone_c:[3,4,5,6],zone_config_exampl:[],zone_env:3,zone_nam:3,zone_x:4,zone_x_addr:3,zoneconfig:3,zonefil:7,zonefin:7,zonelatspec:3},titles:["Assumptions and limitations","OCP Network Split Setup","Python API","ocpnetsplit package","Additional latency approach","Overview of the network split approach","Single Cluster Usage","Multi Cluster Usage"],titleterms:{about:6,addit:[4,6,7],ansibl:[4,5],api:2,approach:[4,5],assumpt:[0,6],client:7,cluster:[0,4,6,7],command:[6,7],configur:7,content:1,environ:7,exampl:[2,4],extern:6,firewal:5,indic:1,introduc:[6,7],latenc:[0,4,6,7],limit:0,line:[6,7],local:7,machineconfig:[3,4,5],main:3,mode:0,modul:3,multi:[0,7],network:[0,1,4,5,6,7],ocp:[1,3],ocpnetsplit:3,overview:5,packag:3,playbook:[4,5],python:2,refer:2,schedul:[6,7],script:[4,5],set:[6,7],setup:[1,7],singl:[0,4,6],specif:0,split:[0,1,5,6,7],ssh:7,systemd:[4,5],tabl:1,test:4,tool:[6,7],unit:[4,5],up:[6,7],upstream:[],usag:[6,7],verifi:4,via:4,zone:[3,6,7]}})