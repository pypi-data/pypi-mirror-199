(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7005],{49743:function(e,t,r){"use strict";var n=r(59499),s=r(4730),o=r(30268),i=r(48591),a=r(43894),c=r(85893),l=["search","onChange","withIcon","withClear"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.search,r=e.onChange,n=e.withIcon,d=e.withClear,h=(0,s.Z)(e,l);return(0,c.jsxs)(o.BZ,{size:"sm",minWidth:"308px",children:[n?(0,c.jsx)(o.Z8,{pointerEvents:"none",children:(0,c.jsx)(i.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,c.jsx)(o.II,u({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return r(e.target.value)}},h)),d?(0,c.jsx)(o.xH,{width:"3.5rem",display:"flex",alignItems:"center",children:(0,c.jsx)(a.zx,{fontWeight:"light",size:"sm",onClick:function(){r("")},height:"95%",width:"95%",children:"Clear"})}):null]})}},85130:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(59499),s=r(16835),o=r(27812),i=r(4730),a=r(30004),c=(r(67294),r(16227)),l=r(36292),d=function(e){return void 0!==e.connection_type},u=r(85893),h=["data"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var f=function(e){var t=e.data,r=(0,i.Z)(e,h);return(0,u.jsx)(a.Ee,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({boxSize:"32px",objectFit:"cover",src:function(){var e;return(e=d(t)?(0,o.Z)(l.iW).find((function(e){var r,n,o=(0,s.Z)(e,1)[0];return t.connection_type.toString()!==c.Rj.SAAS&&t.connection_type.toString()===o||t.connection_type.toString()===c.Rj.SAAS&&(null===(r=t.saas_config)||void 0===r||null===(n=r.type)||void 0===n?void 0:n.toString())===o.toString()})):(0,o.Z)(l.iW).find((function(e){return(0,s.Z)(e,1)[0].toLowerCase()===t.toLowerCase()})))?l.Ny+e[1]:l.VD}(),fallbackSrc:l.VD,alt:d(t)?t.name:t},r))}},91023:function(e,t,r){"use strict";var n=r(23256),s=r(85130),o=r(41664),i=r.n(o),a=(r(67294),r(85893));t.Z=function(e){var t=e.items;return(0,a.jsx)(n.MI,{columns:4,spacingX:"16px",spacingY:"16px",children:t.map((function(e){return(0,a.jsx)(i(),{href:{pathname:window.location.pathname,query:{step:2,connectorType:JSON.stringify(e)}},passHref:!0,children:(0,a.jsx)(n.xu,{boxShadow:"base",borderRadius:"5px",maxWidth:"331px",overflow:"hidden",_hover:{boxShadow:"lg",cursor:"pointer"},"data-testid":"".concat(e.identifier,"-item"),children:(0,a.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",pl:"24px",color:"gray.700",fontSize:"14px",fontStyle:"normal",fontWeight:"600",lineHeight:"20px",h:"80px",children:[(0,a.jsx)(s.Z,{data:e.identifier}),(0,a.jsx)(n.xv,{ml:"12px",children:e.human_readable})]})})},e.identifier)}))})}},94149:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(23256),s=r(20440),o=r(41664),i=r.n(o),a=r(11163),c=r(67294),l=r(63908),d=r(48057),u=r(85130),h=r(44359),m=r(48591),f=r(43894),p=r(49743),y=r(20095),x=r(91023),j=r(85893),g=function(){var e=(0,c.useState)(""),t=e[0],r=e[1],s=(0,y.$I)({}),o=s.data,a=s.isLoading,l=(0,c.useMemo)((function(){return o?o.items.filter((function(e){return n=t,(r=e).human_readable.toLocaleLowerCase().includes(n.toLocaleLowerCase())||r.identifier.toLocaleLowerCase().includes(n.toLocaleLowerCase());var r,n})):[]}),[o,t]);if(a)return(0,j.jsx)(h.$,{});if(!o)return(0,j.jsx)(n.xv,{children:"Could not find system types, please try again."});var d=o.items.length>0&&t.length>0&&0===l.length;return(0,j.jsxs)(n.xu,{children:[(0,j.jsxs)(n.xu,{mb:4,display:"flex",justifyContent:"space-between",children:[(0,j.jsx)(n.xu,{children:(0,j.jsx)(p.Z,{search:t,onChange:r,placeholder:"Search for a system","data-testid":"system-catalog-search",withClear:!0})}),(0,j.jsxs)(n.kC,{alignItems:"center",children:[d?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.PT,{mr:1,color:"gray.400"}),(0,j.jsx)(n.xv,{fontSize:"sm",color:"gray.700",mr:2,"data-testid":"no-systems-found",children:"No systems found"})]}):null,(0,j.jsx)(i(),{href:{pathname:window.location.pathname,query:{step:2}},passHref:!0,children:(0,j.jsx)(f.zx,{variant:d?"solid":"outline",colorScheme:d?"primary":void 0,size:"sm","data-testid":"create-system-btn",children:"Create system"})})]})]}),(0,j.jsx)(x.Z,{items:l})]})},b=r(64940),w=function(e){var t=e.step,r=e.connector;return"choose-system"===t?(0,j.jsx)(n.X6,{fontSize:"2xl",fontWeight:"semibold",mb:2,"data-testid":"header",children:"Choose a type of system"}):(0,j.jsxs)(n.xu,{display:"flex",mb:2,alignItems:"center","data-testid":"header",children:[(0,j.jsx)(u.Z,{data:r?r.identifier:"ethyca",mr:2}),(0,j.jsxs)(n.X6,{fontSize:"2xl",fontWeight:"semibold",children:["Describe your ",r?r.human_readable:"new"," system"]})]})},v=function(){var e=(0,l.d)().systemOrDatamapRoute,t=(0,a.useRouter)().query,r=t.step,o=t.connectorType,u="2"===r?"describe-system":"choose-system",h=(0,c.useMemo)((function(){if(o){var e=Array.isArray(o)?o[0]:o;return JSON.parse(e)}}),[o]);return(0,j.jsxs)(d.Z,{title:"Choose a system type",children:[(0,j.jsxs)(n.xu,{mb:4,children:[(0,j.jsx)(w,{step:u,connector:h}),(0,j.jsx)(n.xu,{children:(0,j.jsxs)(s.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600","data-testid":"breadcrumbs",children:[(0,j.jsx)(s.gN,{children:(0,j.jsx)(i(),{href:e,children:"Data map"})}),(0,j.jsx)(s.gN,{children:(0,j.jsx)(i(),{href:"/add-systems",children:"Add systems"})}),(0,j.jsx)(s.gN,{color:"choose-system"===u?"complimentary.500":void 0,children:(0,j.jsx)(i(),{href:"/add-systems/new",children:"Choose your system"})}),"describe-system"===u?(0,j.jsx)(s.gN,{color:"complimentary.500",children:(0,j.jsx)(i(),{href:"#",children:"Describe your system"})}):null]})})]}),(0,j.jsxs)(n.xu,{w:{base:"100%",md:"75%"},children:[(0,j.jsx)(n.xv,{fontSize:"sm",mb:8,children:"choose-system"===u?"Systems are anything that might store or process data in your organization, from a web application, to a database or data warehouse. Pick from common system types below or create a new type of system to get started.":"Systems are anything that might store or process data in your organization, from a web application, to a database or data warehouse. Describe your system below to register it to the map. You may optionally complete data entry for the system using the additional tabs to navigate the sections."}),"choose-system"===u?(0,j.jsx)(g,{}):(0,j.jsx)(b.Z,{isCreate:!0})]})]})}},72671:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-systems/new",function(){return r(94149)}])}},function(e){e.O(0,[2437,7601,2350,248,6648,440,4231,1144,6894,4530,4,6049,8057,7080,7567,4940,9774,2888,179],(function(){return t=72671,e(e.s=t);var t}));var t=e.O();_N_E=t}]);